{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useParams,useNavigate}from'react-router-dom';import{useAuth}from'../context/AuthContext';import{fetchParticipantById,deleteParticipantNote,deleteParticipantPhoto,removeParticipantFromProgram}from'../services/api';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ParticipantDetail=()=>{var _participant$headshot,_participant$programs;const{id}=useParams();const navigate=useNavigate();const{user}=useAuth();const[participant,setParticipant]=useState(null);const[loading,setLoading]=useState(true);const[error,setError]=useState('');const[success,setSuccess]=useState('');const[dateFilterStart,setDateFilterStart]=useState('');const[dateFilterEnd,setDateFilterEnd]=useState('');useEffect(()=>{loadParticipant();},[id]);const loadParticipant=async()=>{try{setLoading(true);setError('');const response=await fetchParticipantById(id);setParticipant(response.data.participant);}catch(err){var _err$response,_err$response$data;console.error('Error loading participant:',err);setError((err===null||err===void 0?void 0:(_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.error)||'Failed to load participant');}finally{setLoading(false);}};if(loading){return/*#__PURE__*/_jsx(\"div\",{style:{padding:'20px',textAlign:'center'},children:/*#__PURE__*/_jsx(\"h2\",{children:\"Loading Participant...\"})});}if(error||!participant){return/*#__PURE__*/_jsxs(\"div\",{style:{padding:'20px'},children:[/*#__PURE__*/_jsx(\"div\",{style:{background:'#f8d7da',color:'#721c24',padding:'12px 20px',borderRadius:'6px',marginBottom:'20px',border:'1px solid #f5c6cb'},children:error||'Participant not found'}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate('/participants'),style:{background:'#6c757d',color:'white',border:'none',padding:'10px 20px',borderRadius:'5px',cursor:'pointer'},children:\"\\u2190 Back to Participants\"})]});}const headshotUrl=((_participant$headshot=participant.headshotPictureUrl)===null||_participant$headshot===void 0?void 0:_participant$headshot.url)||participant.headshotPictureUrl||'';const uploadedPhotos=participant.uploadedPhotos||[];const notes=participant.notes||[];const programDetails=participant.programDetails||[];return/*#__PURE__*/_jsxs(\"div\",{style:{padding:'20px'},children:[success&&/*#__PURE__*/_jsxs(\"div\",{style:{background:'#d4edda',color:'#155724',padding:'12px 20px',borderRadius:'6px',marginBottom:'20px',border:'1px solid #c3e6cb'},children:[\"\\u2705 \",success]}),error&&/*#__PURE__*/_jsxs(\"div\",{style:{background:'#f8d7da',color:'#721c24',padding:'12px 20px',borderRadius:'6px',marginBottom:'20px',border:'1px solid #f5c6cb'},children:[\"\\u274C \",error]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'20px',display:'flex',justifyContent:'space-between',alignItems:'center'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{style:{margin:'0 0 5px 0'},children:participant.name}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate('/participants'),style:{background:'transparent',color:'#667eea',border:'none',padding:'5px 0',cursor:'pointer',fontSize:'14px',textDecoration:'underline'},children:\"\\u2190 Back to Participants\"})]}),(user===null||user===void 0?void 0:user.role)==='heartSmiles'&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate(\"/participants/\".concat(id,\"/edit\")),style:{background:'#ffc107',color:'#333',border:'none',padding:'10px 20px',borderRadius:'5px',cursor:'pointer',fontWeight:'500'},children:\"Edit Participant\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gridTemplateColumns:'repeat(auto-fit, minmax(300px, 1fr))',gap:'20px',marginBottom:'30px'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{background:'white',border:'1px solid #e1e5e9',borderRadius:'8px',padding:'20px'},children:[/*#__PURE__*/_jsx(\"h3\",{style:{margin:'0 0 15px 0',color:'#333',borderBottom:'2px solid #667eea',paddingBottom:'10px'},children:\"Basic Information\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',flexDirection:'column',gap:'12px'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{style:{color:'#666',fontSize:'13px'},children:\"Name:\"}),/*#__PURE__*/_jsx(\"div\",{style:{marginTop:'3px',color:'#333'},children:participant.name})]}),participant.dateOfBirth&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{style:{color:'#666',fontSize:'13px'},children:\"Date of Birth:\"}),/*#__PURE__*/_jsx(\"div\",{style:{marginTop:'3px',color:'#333'},children:new Date(participant.dateOfBirth).toLocaleDateString()})]}),participant.identificationNumber&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{style:{color:'#666',fontSize:'13px'},children:\"ID Number:\"}),/*#__PURE__*/_jsx(\"div\",{style:{marginTop:'3px',color:'#333'},children:participant.identificationNumber})]}),participant.school&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{style:{color:'#666',fontSize:'13px'},children:\"School:\"}),/*#__PURE__*/_jsx(\"div\",{style:{marginTop:'3px',color:'#333'},children:participant.school})]}),participant.address&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{style:{color:'#666',fontSize:'13px'},children:\"Address:\"}),/*#__PURE__*/_jsx(\"div\",{style:{marginTop:'3px',color:'#333'},children:participant.address})]}),participant.referralDate&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{style:{color:'#666',fontSize:'13px'},children:\"Referral Date:\"}),/*#__PURE__*/_jsx(\"div\",{style:{marginTop:'3px',color:'#333'},children:new Date(participant.referralDate).toLocaleDateString()})]})]})]}),headshotUrl&&/*#__PURE__*/_jsxs(\"div\",{style:{background:'white',border:'1px solid #e1e5e9',borderRadius:'8px',padding:'20px',textAlign:'center'},children:[/*#__PURE__*/_jsx(\"h3\",{style:{margin:'0 0 15px 0',color:'#333',borderBottom:'2px solid #667eea',paddingBottom:'10px'},children:\"Profile Photo\"}),/*#__PURE__*/_jsx(\"img\",{src:headshotUrl,alt:\"\".concat(participant.name,\" profile\"),style:{maxWidth:'100%',maxHeight:'300px',borderRadius:'8px',objectFit:'contain'}})]})]}),(programDetails.length>0||participant.programs&&participant.programs.length>0)&&/*#__PURE__*/_jsxs(\"div\",{style:{background:'white',border:'1px solid #e1e5e9',borderRadius:'8px',padding:'20px',marginBottom:'30px'},children:[/*#__PURE__*/_jsxs(\"h3\",{style:{margin:'0 0 15px 0',color:'#333',borderBottom:'2px solid #667eea',paddingBottom:'10px'},children:[\"Programs (\",programDetails.length||((_participant$programs=participant.programs)===null||_participant$programs===void 0?void 0:_participant$programs.length)||0,\")\"]}),programDetails.length>0?/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',flexWrap:'wrap',gap:'10px'},children:programDetails.map((program,index)=>/*#__PURE__*/_jsxs(\"div\",{style:{background:'#f8f9fa',padding:'10px 15px',borderRadius:'6px',border:'1px solid #e1e5e9',display:'flex',alignItems:'center',gap:'12px',position:'relative',flex:'1 1 250px'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{flex:1},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontWeight:'500',color:'#333'},children:program.name}),program.description&&/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'12px',color:'#666',marginTop:'5px'},children:program.description.length>100?\"\".concat(program.description.substring(0,100),\"...\"):program.description})]}),(user===null||user===void 0?void 0:user.role)==='heartSmiles'&&/*#__PURE__*/_jsx(\"button\",{onClick:async()=>{if(window.confirm(\"Are you sure you want to remove this participant from \\\"\".concat(program.name,\"\\\"?\"))){try{await removeParticipantFromProgram(id,program.id);setSuccess('Participant removed from program successfully!');await loadParticipant();setTimeout(()=>setSuccess(''),3000);}catch(err){var _err$response2,_err$response2$data;setError((err===null||err===void 0?void 0:(_err$response2=err.response)===null||_err$response2===void 0?void 0:(_err$response2$data=_err$response2.data)===null||_err$response2$data===void 0?void 0:_err$response2$data.error)||'Failed to remove participant from program');}}},style:{background:'#dc3545',color:'white',border:'none',padding:'4px 10px',borderRadius:'4px',cursor:'pointer',fontSize:'12px',whiteSpace:'nowrap'},children:\"Remove\"})]},program.id||index))}):/*#__PURE__*/_jsx(\"div\",{style:{color:'#666',fontStyle:'italic',textAlign:'center',padding:'20px'},children:\"No programs assigned yet.\"})]}),uploadedPhotos.length>0&&/*#__PURE__*/_jsxs(\"div\",{style:{background:'white',border:'1px solid #e1e5e9',borderRadius:'8px',padding:'20px',marginBottom:'30px'},children:[/*#__PURE__*/_jsxs(\"h3\",{style:{margin:'0 0 15px 0',color:'#333',borderBottom:'2px solid #667eea',paddingBottom:'10px'},children:[\"Uploaded Photos (\",uploadedPhotos.length,\")\"]}),/*#__PURE__*/_jsx(\"div\",{style:{display:'grid',gridTemplateColumns:'repeat(auto-fill, minmax(200px, 1fr))',gap:'15px'},children:uploadedPhotos.map((photo,index)=>/*#__PURE__*/_jsxs(\"div\",{style:{position:'relative'},children:[/*#__PURE__*/_jsx(\"img\",{src:photo.url,alt:\"Photo \".concat(index+1),style:{width:'100%',height:'200px',objectFit:'cover',borderRadius:'6px',border:'1px solid #e1e5e9'}}),(user===null||user===void 0?void 0:user.role)==='heartSmiles'&&/*#__PURE__*/_jsx(\"button\",{onClick:async()=>{if(window.confirm('Are you sure you want to delete this photo?')){try{await deleteParticipantPhoto(id,photo.id);setSuccess('Photo deleted successfully!');await loadParticipant();setTimeout(()=>setSuccess(''),3000);}catch(err){var _err$response3,_err$response3$data;setError((err===null||err===void 0?void 0:(_err$response3=err.response)===null||_err$response3===void 0?void 0:(_err$response3$data=_err$response3.data)===null||_err$response3$data===void 0?void 0:_err$response3$data.error)||'Failed to delete photo');}}},style:{position:'absolute',top:'8px',right:'8px',background:'rgba(220, 53, 69, 0.9)',color:'white',border:'none',borderRadius:'50%',width:'28px',height:'28px',cursor:'pointer',fontSize:'16px',display:'flex',alignItems:'center',justifyContent:'center',fontWeight:'bold'},title:\"Delete photo\",children:\"\\xD7\"}),(photo.caption||photo.activity)&&/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'8px',fontSize:'12px',color:'#666'},children:[photo.caption&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Caption:\"}),\" \",photo.caption]}),photo.activity&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Activity:\"}),\" \",photo.activity]}),photo.uploadedAt&&/*#__PURE__*/_jsx(\"div\",{style:{marginTop:'3px',fontSize:'11px',color:'#999'},children:photo.uploadedAt.seconds?new Date(photo.uploadedAt.seconds*1000).toLocaleDateString():new Date(photo.uploadedAt).toLocaleDateString()})]})]},photo.id||index))})]}),/*#__PURE__*/_jsxs(\"div\",{style:{background:'white',border:'1px solid #e1e5e9',borderRadius:'8px',padding:'20px'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center',marginBottom:'15px',flexWrap:'wrap',gap:'10px'},children:[/*#__PURE__*/_jsxs(\"h3\",{style:{margin:'0',color:'#333',borderBottom:'2px solid #667eea',paddingBottom:'10px'},children:[\"Notes (\",notes.length,\")\"]}),notes.length>0&&/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'10px',alignItems:'center',flexWrap:'wrap'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'8px',alignItems:'center'},children:[/*#__PURE__*/_jsx(\"label\",{style:{fontSize:'13px',color:'#666'},children:\"From:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:dateFilterStart,onChange:e=>setDateFilterStart(e.target.value),style:{padding:'5px 8px',border:'1px solid #e1e5e9',borderRadius:'4px',fontSize:'13px'}})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'8px',alignItems:'center'},children:[/*#__PURE__*/_jsx(\"label\",{style:{fontSize:'13px',color:'#666'},children:\"To:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:dateFilterEnd,onChange:e=>setDateFilterEnd(e.target.value),style:{padding:'5px 8px',border:'1px solid #e1e5e9',borderRadius:'4px',fontSize:'13px'}})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{// Filter notes by date range\nconst getNoteDate=note=>{try{if(note.createdAt&&typeof note.createdAt==='object'){if(note.createdAt.seconds){return new Date(note.createdAt.seconds*1000);}else if(note.createdAt.toDate){return note.createdAt.toDate();}else if(note.createdAt._seconds){return new Date(note.createdAt._seconds*1000);}}const date=new Date(note.createdAt);return isNaN(date.getTime())?null:date;}catch(e){return null;}};let filteredNotes=notes;if(dateFilterStart||dateFilterEnd){filteredNotes=notes.filter(note=>{const noteDate=getNoteDate(note);if(!noteDate)return false;const startDate=dateFilterStart?new Date(dateFilterStart):null;const endDate=dateFilterEnd?new Date(dateFilterEnd):null;if(startDate){startDate.setHours(0,0,0,0);}if(endDate){endDate.setHours(23,59,59,999);}const noteDateOnly=new Date(noteDate);noteDateOnly.setHours(0,0,0,0);const afterStart=!startDate||noteDateOnly>=startDate;const beforeEnd=!endDate||noteDateOnly<=endDate;return afterStart&&beforeEnd;});}// Convert to CSV\nconst headers=['Date','Author','Type','Content'];const rows=filteredNotes.map(note=>{const date=getNoteDate(note);const dateStr=date?date.toLocaleDateString():'N/A';const author=note.author||'Staff Member';const type=note.type||'';const content=(note.content||'').replace(/\"/g,'\"\"');// Escape quotes\nreturn[dateStr,author,type,\"\\\"\".concat(content,\"\\\"\")];});const csvContent=[headers.join(','),...rows.map(row=>row.join(','))].join('\\n');// Download CSV\nconst blob=new Blob([csvContent],{type:'text/csv;charset=utf-8;'});const link=document.createElement('a');const url=URL.createObjectURL(blob);link.setAttribute('href',url);link.setAttribute('download',\"\".concat(participant.name.replace(/[^a-z0-9]/gi,'_'),\"_notes_\").concat(new Date().toISOString().split('T')[0],\".csv\"));link.style.visibility='hidden';document.body.appendChild(link);link.click();document.body.removeChild(link);setSuccess(\"Downloaded \".concat(filteredNotes.length,\" note(s) as CSV\"));setTimeout(()=>setSuccess(''),3000);},style:{background:'#28a745',color:'white',border:'none',padding:'8px 16px',borderRadius:'5px',cursor:'pointer',fontSize:'13px',fontWeight:'500'},children:\"\\uD83D\\uDCE5 Download Notes as CSV\"})]})]}),notes.length>0?/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',flexDirection:'column',gap:'15px'},children:notes.map((note,index)=>/*#__PURE__*/_jsxs(\"div\",{style:{background:'#f8f9fa',padding:'15px',borderRadius:'6px',border:'1px solid #e1e5e9',position:'relative',paddingBottom:(user===null||user===void 0?void 0:user.role)==='heartSmiles'?'45px':'15px'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',marginBottom:'8px'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontWeight:'500',color:'#333'},children:note.author||'Staff Member'}),note.createdAt&&/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'12px',color:'#666'},children:(()=>{try{// Handle Firestore Timestamp format\nif(note.createdAt&&typeof note.createdAt==='object'){if(note.createdAt.seconds){return new Date(note.createdAt.seconds*1000).toLocaleDateString();}else if(note.createdAt.toDate){return note.createdAt.toDate().toLocaleDateString();}else if(note.createdAt._seconds){return new Date(note.createdAt._seconds*1000).toLocaleDateString();}}// Handle Date object or ISO string\nconst date=new Date(note.createdAt);if(!isNaN(date.getTime())){return date.toLocaleDateString();}return'Invalid Date';}catch(e){console.error('Error formatting note date:',e,note.createdAt);return'Invalid Date';}})()})]}),note.type&&/*#__PURE__*/_jsx(\"div\",{style:{display:'inline-block',background:'#667eea',color:'white',padding:'2px 8px',borderRadius:'4px',fontSize:'11px',marginBottom:'8px'},children:note.type}),/*#__PURE__*/_jsx(\"div\",{style:{color:'#333',lineHeight:'1.6',marginBottom:'8px'},children:note.content}),(user===null||user===void 0?void 0:user.role)==='heartSmiles'&&/*#__PURE__*/_jsx(\"button\",{onClick:async()=>{if(window.confirm('Are you sure you want to delete this note?')){try{await deleteParticipantNote(id,note.id);setSuccess('Note deleted successfully!');await loadParticipant();setTimeout(()=>setSuccess(''),3000);}catch(err){var _err$response4,_err$response4$data;setError((err===null||err===void 0?void 0:(_err$response4=err.response)===null||_err$response4===void 0?void 0:(_err$response4$data=_err$response4.data)===null||_err$response4$data===void 0?void 0:_err$response4$data.error)||'Failed to delete note');}}},style:{position:'absolute',bottom:'10px',right:'10px',background:'#dc3545',color:'white',border:'none',borderRadius:'4px',padding:'4px 10px',cursor:'pointer',fontSize:'12px'},children:\"Delete\"})]},note.id||index))}):/*#__PURE__*/_jsx(\"div\",{style:{color:'#666',fontStyle:'italic',textAlign:'center',padding:'20px'},children:\"No notes yet\"})]})]});};export default ParticipantDetail;","map":{"version":3,"names":["React","useState","useEffect","useParams","useNavigate","useAuth","fetchParticipantById","deleteParticipantNote","deleteParticipantPhoto","removeParticipantFromProgram","jsx","_jsx","jsxs","_jsxs","ParticipantDetail","_participant$headshot","_participant$programs","id","navigate","user","participant","setParticipant","loading","setLoading","error","setError","success","setSuccess","dateFilterStart","setDateFilterStart","dateFilterEnd","setDateFilterEnd","loadParticipant","response","data","err","_err$response","_err$response$data","console","style","padding","textAlign","children","background","color","borderRadius","marginBottom","border","onClick","cursor","headshotUrl","headshotPictureUrl","url","uploadedPhotos","notes","programDetails","display","justifyContent","alignItems","margin","name","fontSize","textDecoration","role","concat","fontWeight","gridTemplateColumns","gap","borderBottom","paddingBottom","flexDirection","marginTop","dateOfBirth","Date","toLocaleDateString","identificationNumber","school","address","referralDate","src","alt","maxWidth","maxHeight","objectFit","length","programs","flexWrap","map","program","index","position","flex","description","substring","window","confirm","setTimeout","_err$response2","_err$response2$data","whiteSpace","fontStyle","photo","width","height","_err$response3","_err$response3$data","top","right","title","caption","activity","uploadedAt","seconds","type","value","onChange","e","target","getNoteDate","note","createdAt","toDate","_seconds","date","isNaN","getTime","filteredNotes","filter","noteDate","startDate","endDate","setHours","noteDateOnly","afterStart","beforeEnd","headers","rows","dateStr","author","content","replace","csvContent","join","row","blob","Blob","link","document","createElement","URL","createObjectURL","setAttribute","toISOString","split","visibility","body","appendChild","click","removeChild","lineHeight","_err$response4","_err$response4$data","bottom"],"sources":["/Users/sareena/HeartSmiles/heart-smiles-tracker/src/pages/ParticipantDetail.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { useAuth } from '../context/AuthContext';\nimport { fetchParticipantById, deleteParticipantNote, deleteParticipantPhoto, removeParticipantFromProgram } from '../services/api';\n\nconst ParticipantDetail = () => {\n  const { id } = useParams();\n  const navigate = useNavigate();\n  const { user } = useAuth();\n  const [participant, setParticipant] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const [success, setSuccess] = useState('');\n  const [dateFilterStart, setDateFilterStart] = useState('');\n  const [dateFilterEnd, setDateFilterEnd] = useState('');\n\n  useEffect(() => {\n    loadParticipant();\n  }, [id]);\n\n  const loadParticipant = async () => {\n    try {\n      setLoading(true);\n      setError('');\n      const response = await fetchParticipantById(id);\n      setParticipant(response.data.participant);\n    } catch (err) {\n      console.error('Error loading participant:', err);\n      setError(err?.response?.data?.error || 'Failed to load participant');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  if (loading) {\n    return (\n      <div style={{ padding: '20px', textAlign: 'center' }}>\n        <h2>Loading Participant...</h2>\n      </div>\n    );\n  }\n\n  if (error || !participant) {\n    return (\n      <div style={{ padding: '20px' }}>\n        <div style={{\n          background: '#f8d7da',\n          color: '#721c24',\n          padding: '12px 20px',\n          borderRadius: '6px',\n          marginBottom: '20px',\n          border: '1px solid #f5c6cb'\n        }}>\n          {error || 'Participant not found'}\n        </div>\n        <button\n          onClick={() => navigate('/participants')}\n          style={{\n            background: '#6c757d',\n            color: 'white',\n            border: 'none',\n            padding: '10px 20px',\n            borderRadius: '5px',\n            cursor: 'pointer'\n          }}\n        >\n          ‚Üê Back to Participants\n        </button>\n      </div>\n    );\n  }\n\n  const headshotUrl = participant.headshotPictureUrl?.url || participant.headshotPictureUrl || '';\n  const uploadedPhotos = participant.uploadedPhotos || [];\n  const notes = participant.notes || [];\n  const programDetails = participant.programDetails || [];\n\n  return (\n    <div style={{ padding: '20px' }}>\n      {success && (\n        <div style={{\n          background: '#d4edda',\n          color: '#155724',\n          padding: '12px 20px',\n          borderRadius: '6px',\n          marginBottom: '20px',\n          border: '1px solid #c3e6cb'\n        }}>\n          ‚úÖ {success}\n        </div>\n      )}\n      {error && (\n        <div style={{\n          background: '#f8d7da',\n          color: '#721c24',\n          padding: '12px 20px',\n          borderRadius: '6px',\n          marginBottom: '20px',\n          border: '1px solid #f5c6cb'\n        }}>\n          ‚ùå {error}\n        </div>\n      )}\n      <div style={{ marginBottom: '20px', display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\n        <div>\n          <h1 style={{ margin: '0 0 5px 0' }}>{participant.name}</h1>\n          <button\n            onClick={() => navigate('/participants')}\n            style={{\n              background: 'transparent',\n              color: '#667eea',\n              border: 'none',\n              padding: '5px 0',\n              cursor: 'pointer',\n              fontSize: '14px',\n              textDecoration: 'underline'\n            }}\n          >\n            ‚Üê Back to Participants\n          </button>\n        </div>\n        {user?.role === 'heartSmiles' && (\n          <button\n            onClick={() => navigate(`/participants/${id}/edit`)}\n            style={{\n              background: '#ffc107',\n              color: '#333',\n              border: 'none',\n              padding: '10px 20px',\n              borderRadius: '5px',\n              cursor: 'pointer',\n              fontWeight: '500'\n            }}\n          >\n            Edit Participant\n          </button>\n        )}\n      </div>\n\n      <div style={{\n        display: 'grid',\n        gridTemplateColumns: 'repeat(auto-fit, minmax(300px, 1fr))',\n        gap: '20px',\n        marginBottom: '30px'\n      }}>\n        {/* Basic Information */}\n        <div style={{\n          background: 'white',\n          border: '1px solid #e1e5e9',\n          borderRadius: '8px',\n          padding: '20px'\n        }}>\n          <h3 style={{ margin: '0 0 15px 0', color: '#333', borderBottom: '2px solid #667eea', paddingBottom: '10px' }}>\n            Basic Information\n          </h3>\n          <div style={{ display: 'flex', flexDirection: 'column', gap: '12px' }}>\n            <div>\n              <strong style={{ color: '#666', fontSize: '13px' }}>Name:</strong>\n              <div style={{ marginTop: '3px', color: '#333' }}>{participant.name}</div>\n            </div>\n            {participant.dateOfBirth && (\n              <div>\n                <strong style={{ color: '#666', fontSize: '13px' }}>Date of Birth:</strong>\n                <div style={{ marginTop: '3px', color: '#333' }}>\n                  {new Date(participant.dateOfBirth).toLocaleDateString()}\n                </div>\n              </div>\n            )}\n            {participant.identificationNumber && (\n              <div>\n                <strong style={{ color: '#666', fontSize: '13px' }}>ID Number:</strong>\n                <div style={{ marginTop: '3px', color: '#333' }}>{participant.identificationNumber}</div>\n              </div>\n            )}\n            {participant.school && (\n              <div>\n                <strong style={{ color: '#666', fontSize: '13px' }}>School:</strong>\n                <div style={{ marginTop: '3px', color: '#333' }}>{participant.school}</div>\n              </div>\n            )}\n            {participant.address && (\n              <div>\n                <strong style={{ color: '#666', fontSize: '13px' }}>Address:</strong>\n                <div style={{ marginTop: '3px', color: '#333' }}>{participant.address}</div>\n              </div>\n            )}\n            {participant.referralDate && (\n              <div>\n                <strong style={{ color: '#666', fontSize: '13px' }}>Referral Date:</strong>\n                <div style={{ marginTop: '3px', color: '#333' }}>\n                  {new Date(participant.referralDate).toLocaleDateString()}\n                </div>\n              </div>\n            )}\n          </div>\n        </div>\n\n        {/* Profile Photo */}\n        {headshotUrl && (\n          <div style={{\n            background: 'white',\n            border: '1px solid #e1e5e9',\n            borderRadius: '8px',\n            padding: '20px',\n            textAlign: 'center'\n          }}>\n            <h3 style={{ margin: '0 0 15px 0', color: '#333', borderBottom: '2px solid #667eea', paddingBottom: '10px' }}>\n              Profile Photo\n            </h3>\n            <img\n              src={headshotUrl}\n              alt={`${participant.name} profile`}\n              style={{\n                maxWidth: '100%',\n                maxHeight: '300px',\n                borderRadius: '8px',\n                objectFit: 'contain'\n              }}\n            />\n          </div>\n        )}\n      </div>\n\n      {/* Programs */}\n      {(programDetails.length > 0 || (participant.programs && participant.programs.length > 0)) && (\n        <div style={{\n          background: 'white',\n          border: '1px solid #e1e5e9',\n          borderRadius: '8px',\n          padding: '20px',\n          marginBottom: '30px'\n        }}>\n          <h3 style={{ margin: '0 0 15px 0', color: '#333', borderBottom: '2px solid #667eea', paddingBottom: '10px' }}>\n            Programs ({programDetails.length || participant.programs?.length || 0})\n          </h3>\n          {programDetails.length > 0 ? (\n            <div style={{ display: 'flex', flexWrap: 'wrap', gap: '10px' }}>\n              {programDetails.map((program, index) => (\n                <div\n                  key={program.id || index}\n                  style={{\n                    background: '#f8f9fa',\n                    padding: '10px 15px',\n                    borderRadius: '6px',\n                    border: '1px solid #e1e5e9',\n                    display: 'flex',\n                    alignItems: 'center',\n                    gap: '12px',\n                    position: 'relative',\n                    flex: '1 1 250px'\n                  }}\n                >\n                  <div style={{ flex: 1 }}>\n                    <div style={{ fontWeight: '500', color: '#333' }}>{program.name}</div>\n                    {program.description && (\n                      <div style={{ fontSize: '12px', color: '#666', marginTop: '5px' }}>\n                        {program.description.length > 100 \n                          ? `${program.description.substring(0, 100)}...`\n                          : program.description}\n                      </div>\n                    )}\n                  </div>\n                  {user?.role === 'heartSmiles' && (\n                    <button\n                      onClick={async () => {\n                        if (window.confirm(`Are you sure you want to remove this participant from \"${program.name}\"?`)) {\n                          try {\n                            await removeParticipantFromProgram(id, program.id);\n                            setSuccess('Participant removed from program successfully!');\n                            await loadParticipant();\n                            setTimeout(() => setSuccess(''), 3000);\n                          } catch (err) {\n                            setError(err?.response?.data?.error || 'Failed to remove participant from program');\n                          }\n                        }\n                      }}\n                      style={{\n                        background: '#dc3545',\n                        color: 'white',\n                        border: 'none',\n                        padding: '4px 10px',\n                        borderRadius: '4px',\n                        cursor: 'pointer',\n                        fontSize: '12px',\n                        whiteSpace: 'nowrap'\n                      }}\n                    >\n                      Remove\n                    </button>\n                  )}\n                </div>\n              ))}\n            </div>\n          ) : (\n            <div style={{ color: '#666', fontStyle: 'italic', textAlign: 'center', padding: '20px' }}>\n              No programs assigned yet.\n            </div>\n          )}\n        </div>\n      )}\n\n      {/* Uploaded Photos */}\n      {uploadedPhotos.length > 0 && (\n        <div style={{\n          background: 'white',\n          border: '1px solid #e1e5e9',\n          borderRadius: '8px',\n          padding: '20px',\n          marginBottom: '30px'\n        }}>\n          <h3 style={{ margin: '0 0 15px 0', color: '#333', borderBottom: '2px solid #667eea', paddingBottom: '10px' }}>\n            Uploaded Photos ({uploadedPhotos.length})\n          </h3>\n          <div style={{\n            display: 'grid',\n            gridTemplateColumns: 'repeat(auto-fill, minmax(200px, 1fr))',\n            gap: '15px'\n          }}>\n            {uploadedPhotos.map((photo, index) => (\n              <div key={photo.id || index} style={{ position: 'relative' }}>\n                <img\n                  src={photo.url}\n                  alt={`Photo ${index + 1}`}\n                  style={{\n                    width: '100%',\n                    height: '200px',\n                    objectFit: 'cover',\n                    borderRadius: '6px',\n                    border: '1px solid #e1e5e9'\n                  }}\n                />\n                {user?.role === 'heartSmiles' && (\n                  <button\n                    onClick={async () => {\n                      if (window.confirm('Are you sure you want to delete this photo?')) {\n                        try {\n                          await deleteParticipantPhoto(id, photo.id);\n                          setSuccess('Photo deleted successfully!');\n                          await loadParticipant();\n                          setTimeout(() => setSuccess(''), 3000);\n                        } catch (err) {\n                          setError(err?.response?.data?.error || 'Failed to delete photo');\n                        }\n                      }\n                    }}\n                    style={{\n                      position: 'absolute',\n                      top: '8px',\n                      right: '8px',\n                      background: 'rgba(220, 53, 69, 0.9)',\n                      color: 'white',\n                      border: 'none',\n                      borderRadius: '50%',\n                      width: '28px',\n                      height: '28px',\n                      cursor: 'pointer',\n                      fontSize: '16px',\n                      display: 'flex',\n                      alignItems: 'center',\n                      justifyContent: 'center',\n                      fontWeight: 'bold'\n                    }}\n                    title=\"Delete photo\"\n                  >\n                    √ó\n                  </button>\n                )}\n                {(photo.caption || photo.activity) && (\n                  <div style={{\n                    marginTop: '8px',\n                    fontSize: '12px',\n                    color: '#666'\n                  }}>\n                    {photo.caption && <div><strong>Caption:</strong> {photo.caption}</div>}\n                    {photo.activity && <div><strong>Activity:</strong> {photo.activity}</div>}\n                    {photo.uploadedAt && (\n                      <div style={{ marginTop: '3px', fontSize: '11px', color: '#999' }}>\n                        {photo.uploadedAt.seconds \n                          ? new Date(photo.uploadedAt.seconds * 1000).toLocaleDateString()\n                          : new Date(photo.uploadedAt).toLocaleDateString()}\n                      </div>\n                    )}\n                  </div>\n                )}\n              </div>\n            ))}\n          </div>\n        </div>\n      )}\n\n      {/* Notes */}\n      <div style={{\n        background: 'white',\n        border: '1px solid #e1e5e9',\n        borderRadius: '8px',\n        padding: '20px'\n      }}>\n        <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '15px', flexWrap: 'wrap', gap: '10px' }}>\n          <h3 style={{ margin: '0', color: '#333', borderBottom: '2px solid #667eea', paddingBottom: '10px' }}>\n            Notes ({notes.length})\n          </h3>\n          {notes.length > 0 && (\n            <div style={{ display: 'flex', gap: '10px', alignItems: 'center', flexWrap: 'wrap' }}>\n              <div style={{ display: 'flex', gap: '8px', alignItems: 'center' }}>\n                <label style={{ fontSize: '13px', color: '#666' }}>From:</label>\n                <input\n                  type=\"date\"\n                  value={dateFilterStart}\n                  onChange={(e) => setDateFilterStart(e.target.value)}\n                  style={{\n                    padding: '5px 8px',\n                    border: '1px solid #e1e5e9',\n                    borderRadius: '4px',\n                    fontSize: '13px'\n                  }}\n                />\n              </div>\n              <div style={{ display: 'flex', gap: '8px', alignItems: 'center' }}>\n                <label style={{ fontSize: '13px', color: '#666' }}>To:</label>\n                <input\n                  type=\"date\"\n                  value={dateFilterEnd}\n                  onChange={(e) => setDateFilterEnd(e.target.value)}\n                  style={{\n                    padding: '5px 8px',\n                    border: '1px solid #e1e5e9',\n                    borderRadius: '4px',\n                    fontSize: '13px'\n                  }}\n                />\n              </div>\n              <button\n                onClick={() => {\n                  // Filter notes by date range\n                  const getNoteDate = (note) => {\n                    try {\n                      if (note.createdAt && typeof note.createdAt === 'object') {\n                        if (note.createdAt.seconds) {\n                          return new Date(note.createdAt.seconds * 1000);\n                        } else if (note.createdAt.toDate) {\n                          return note.createdAt.toDate();\n                        } else if (note.createdAt._seconds) {\n                          return new Date(note.createdAt._seconds * 1000);\n                        }\n                      }\n                      const date = new Date(note.createdAt);\n                      return isNaN(date.getTime()) ? null : date;\n                    } catch (e) {\n                      return null;\n                    }\n                  };\n\n                  let filteredNotes = notes;\n                  \n                  if (dateFilterStart || dateFilterEnd) {\n                    filteredNotes = notes.filter(note => {\n                      const noteDate = getNoteDate(note);\n                      if (!noteDate) return false;\n                      \n                      const startDate = dateFilterStart ? new Date(dateFilterStart) : null;\n                      const endDate = dateFilterEnd ? new Date(dateFilterEnd) : null;\n                      \n                      if (startDate) {\n                        startDate.setHours(0, 0, 0, 0);\n                      }\n                      if (endDate) {\n                        endDate.setHours(23, 59, 59, 999);\n                      }\n                      \n                      const noteDateOnly = new Date(noteDate);\n                      noteDateOnly.setHours(0, 0, 0, 0);\n                      \n                      const afterStart = !startDate || noteDateOnly >= startDate;\n                      const beforeEnd = !endDate || noteDateOnly <= endDate;\n                      \n                      return afterStart && beforeEnd;\n                    });\n                  }\n\n                  // Convert to CSV\n                  const headers = ['Date', 'Author', 'Type', 'Content'];\n                  const rows = filteredNotes.map(note => {\n                    const date = getNoteDate(note);\n                    const dateStr = date ? date.toLocaleDateString() : 'N/A';\n                    const author = note.author || 'Staff Member';\n                    const type = note.type || '';\n                    const content = (note.content || '').replace(/\"/g, '\"\"'); // Escape quotes\n                    return [dateStr, author, type, `\"${content}\"`];\n                  });\n\n                  const csvContent = [\n                    headers.join(','),\n                    ...rows.map(row => row.join(','))\n                  ].join('\\n');\n\n                  // Download CSV\n                  const blob = new Blob([csvContent], { type: 'text/csv;charset=utf-8;' });\n                  const link = document.createElement('a');\n                  const url = URL.createObjectURL(blob);\n                  link.setAttribute('href', url);\n                  link.setAttribute('download', `${participant.name.replace(/[^a-z0-9]/gi, '_')}_notes_${new Date().toISOString().split('T')[0]}.csv`);\n                  link.style.visibility = 'hidden';\n                  document.body.appendChild(link);\n                  link.click();\n                  document.body.removeChild(link);\n                  \n                  setSuccess(`Downloaded ${filteredNotes.length} note(s) as CSV`);\n                  setTimeout(() => setSuccess(''), 3000);\n                }}\n                style={{\n                  background: '#28a745',\n                  color: 'white',\n                  border: 'none',\n                  padding: '8px 16px',\n                  borderRadius: '5px',\n                  cursor: 'pointer',\n                  fontSize: '13px',\n                  fontWeight: '500'\n                }}\n              >\n                üì• Download Notes as CSV\n              </button>\n            </div>\n          )}\n        </div>\n        {notes.length > 0 ? (\n          <div style={{ display: 'flex', flexDirection: 'column', gap: '15px' }}>\n            {notes.map((note, index) => (\n              <div\n                key={note.id || index}\n                style={{\n                  background: '#f8f9fa',\n                  padding: '15px',\n                  borderRadius: '6px',\n                  border: '1px solid #e1e5e9',\n                  position: 'relative',\n                  paddingBottom: user?.role === 'heartSmiles' ? '45px' : '15px'\n                }}\n              >\n                <div style={{ display: 'flex', justifyContent: 'space-between', marginBottom: '8px' }}>\n                  <div style={{ fontWeight: '500', color: '#333' }}>\n                    {note.author || 'Staff Member'}\n                  </div>\n                  {note.createdAt && (\n                    <div style={{ fontSize: '12px', color: '#666' }}>\n                      {(() => {\n                        try {\n                          // Handle Firestore Timestamp format\n                          if (note.createdAt && typeof note.createdAt === 'object') {\n                            if (note.createdAt.seconds) {\n                              return new Date(note.createdAt.seconds * 1000).toLocaleDateString();\n                            } else if (note.createdAt.toDate) {\n                              return note.createdAt.toDate().toLocaleDateString();\n                            } else if (note.createdAt._seconds) {\n                              return new Date(note.createdAt._seconds * 1000).toLocaleDateString();\n                            }\n                          }\n                          // Handle Date object or ISO string\n                          const date = new Date(note.createdAt);\n                          if (!isNaN(date.getTime())) {\n                            return date.toLocaleDateString();\n                          }\n                          return 'Invalid Date';\n                        } catch (e) {\n                          console.error('Error formatting note date:', e, note.createdAt);\n                          return 'Invalid Date';\n                        }\n                      })()}\n                    </div>\n                  )}\n                </div>\n                {note.type && (\n                  <div style={{\n                    display: 'inline-block',\n                    background: '#667eea',\n                    color: 'white',\n                    padding: '2px 8px',\n                    borderRadius: '4px',\n                    fontSize: '11px',\n                    marginBottom: '8px'\n                  }}>\n                    {note.type}\n                  </div>\n                )}\n                <div style={{ color: '#333', lineHeight: '1.6', marginBottom: '8px' }}>{note.content}</div>\n                {user?.role === 'heartSmiles' && (\n                  <button\n                    onClick={async () => {\n                      if (window.confirm('Are you sure you want to delete this note?')) {\n                        try {\n                          await deleteParticipantNote(id, note.id);\n                          setSuccess('Note deleted successfully!');\n                          await loadParticipant();\n                          setTimeout(() => setSuccess(''), 3000);\n                        } catch (err) {\n                          setError(err?.response?.data?.error || 'Failed to delete note');\n                        }\n                      }\n                    }}\n                    style={{\n                      position: 'absolute',\n                      bottom: '10px',\n                      right: '10px',\n                      background: '#dc3545',\n                      color: 'white',\n                      border: 'none',\n                      borderRadius: '4px',\n                      padding: '4px 10px',\n                      cursor: 'pointer',\n                      fontSize: '12px'\n                    }}\n                  >\n                    Delete\n                  </button>\n                )}\n              </div>\n            ))}\n          </div>\n        ) : (\n          <div style={{ color: '#666', fontStyle: 'italic', textAlign: 'center', padding: '20px' }}>\n            No notes yet\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default ParticipantDetail;\n\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,SAAS,CAAEC,WAAW,KAAQ,kBAAkB,CACzD,OAASC,OAAO,KAAQ,wBAAwB,CAChD,OAASC,oBAAoB,CAAEC,qBAAqB,CAAEC,sBAAsB,CAAEC,4BAA4B,KAAQ,iBAAiB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEpI,KAAM,CAAAC,iBAAiB,CAAGA,CAAA,GAAM,KAAAC,qBAAA,CAAAC,qBAAA,CAC9B,KAAM,CAAEC,EAAG,CAAC,CAAGd,SAAS,CAAC,CAAC,CAC1B,KAAM,CAAAe,QAAQ,CAAGd,WAAW,CAAC,CAAC,CAC9B,KAAM,CAAEe,IAAK,CAAC,CAAGd,OAAO,CAAC,CAAC,CAC1B,KAAM,CAACe,WAAW,CAAEC,cAAc,CAAC,CAAGpB,QAAQ,CAAC,IAAI,CAAC,CACpD,KAAM,CAACqB,OAAO,CAAEC,UAAU,CAAC,CAAGtB,QAAQ,CAAC,IAAI,CAAC,CAC5C,KAAM,CAACuB,KAAK,CAAEC,QAAQ,CAAC,CAAGxB,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAACyB,OAAO,CAAEC,UAAU,CAAC,CAAG1B,QAAQ,CAAC,EAAE,CAAC,CAC1C,KAAM,CAAC2B,eAAe,CAAEC,kBAAkB,CAAC,CAAG5B,QAAQ,CAAC,EAAE,CAAC,CAC1D,KAAM,CAAC6B,aAAa,CAAEC,gBAAgB,CAAC,CAAG9B,QAAQ,CAAC,EAAE,CAAC,CAEtDC,SAAS,CAAC,IAAM,CACd8B,eAAe,CAAC,CAAC,CACnB,CAAC,CAAE,CAACf,EAAE,CAAC,CAAC,CAER,KAAM,CAAAe,eAAe,CAAG,KAAAA,CAAA,GAAY,CAClC,GAAI,CACFT,UAAU,CAAC,IAAI,CAAC,CAChBE,QAAQ,CAAC,EAAE,CAAC,CACZ,KAAM,CAAAQ,QAAQ,CAAG,KAAM,CAAA3B,oBAAoB,CAACW,EAAE,CAAC,CAC/CI,cAAc,CAACY,QAAQ,CAACC,IAAI,CAACd,WAAW,CAAC,CAC3C,CAAE,MAAOe,GAAG,CAAE,KAAAC,aAAA,CAAAC,kBAAA,CACZC,OAAO,CAACd,KAAK,CAAC,4BAA4B,CAAEW,GAAG,CAAC,CAChDV,QAAQ,CAAC,CAAAU,GAAG,SAAHA,GAAG,kBAAAC,aAAA,CAAHD,GAAG,CAAEF,QAAQ,UAAAG,aAAA,kBAAAC,kBAAA,CAAbD,aAAA,CAAeF,IAAI,UAAAG,kBAAA,iBAAnBA,kBAAA,CAAqBb,KAAK,GAAI,4BAA4B,CAAC,CACtE,CAAC,OAAS,CACRD,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAED,GAAID,OAAO,CAAE,CACX,mBACEX,IAAA,QAAK4B,KAAK,CAAE,CAAEC,OAAO,CAAE,MAAM,CAAEC,SAAS,CAAE,QAAS,CAAE,CAAAC,QAAA,cACnD/B,IAAA,OAAA+B,QAAA,CAAI,wBAAsB,CAAI,CAAC,CAC5B,CAAC,CAEV,CAEA,GAAIlB,KAAK,EAAI,CAACJ,WAAW,CAAE,CACzB,mBACEP,KAAA,QAAK0B,KAAK,CAAE,CAAEC,OAAO,CAAE,MAAO,CAAE,CAAAE,QAAA,eAC9B/B,IAAA,QAAK4B,KAAK,CAAE,CACVI,UAAU,CAAE,SAAS,CACrBC,KAAK,CAAE,SAAS,CAChBJ,OAAO,CAAE,WAAW,CACpBK,YAAY,CAAE,KAAK,CACnBC,YAAY,CAAE,MAAM,CACpBC,MAAM,CAAE,mBACV,CAAE,CAAAL,QAAA,CACClB,KAAK,EAAI,uBAAuB,CAC9B,CAAC,cACNb,IAAA,WACEqC,OAAO,CAAEA,CAAA,GAAM9B,QAAQ,CAAC,eAAe,CAAE,CACzCqB,KAAK,CAAE,CACLI,UAAU,CAAE,SAAS,CACrBC,KAAK,CAAE,OAAO,CACdG,MAAM,CAAE,MAAM,CACdP,OAAO,CAAE,WAAW,CACpBK,YAAY,CAAE,KAAK,CACnBI,MAAM,CAAE,SACV,CAAE,CAAAP,QAAA,CACH,6BAED,CAAQ,CAAC,EACN,CAAC,CAEV,CAEA,KAAM,CAAAQ,WAAW,CAAG,EAAAnC,qBAAA,CAAAK,WAAW,CAAC+B,kBAAkB,UAAApC,qBAAA,iBAA9BA,qBAAA,CAAgCqC,GAAG,GAAIhC,WAAW,CAAC+B,kBAAkB,EAAI,EAAE,CAC/F,KAAM,CAAAE,cAAc,CAAGjC,WAAW,CAACiC,cAAc,EAAI,EAAE,CACvD,KAAM,CAAAC,KAAK,CAAGlC,WAAW,CAACkC,KAAK,EAAI,EAAE,CACrC,KAAM,CAAAC,cAAc,CAAGnC,WAAW,CAACmC,cAAc,EAAI,EAAE,CAEvD,mBACE1C,KAAA,QAAK0B,KAAK,CAAE,CAAEC,OAAO,CAAE,MAAO,CAAE,CAAAE,QAAA,EAC7BhB,OAAO,eACNb,KAAA,QAAK0B,KAAK,CAAE,CACVI,UAAU,CAAE,SAAS,CACrBC,KAAK,CAAE,SAAS,CAChBJ,OAAO,CAAE,WAAW,CACpBK,YAAY,CAAE,KAAK,CACnBC,YAAY,CAAE,MAAM,CACpBC,MAAM,CAAE,mBACV,CAAE,CAAAL,QAAA,EAAC,SACC,CAAChB,OAAO,EACP,CACN,CACAF,KAAK,eACJX,KAAA,QAAK0B,KAAK,CAAE,CACVI,UAAU,CAAE,SAAS,CACrBC,KAAK,CAAE,SAAS,CAChBJ,OAAO,CAAE,WAAW,CACpBK,YAAY,CAAE,KAAK,CACnBC,YAAY,CAAE,MAAM,CACpBC,MAAM,CAAE,mBACV,CAAE,CAAAL,QAAA,EAAC,SACC,CAAClB,KAAK,EACL,CACN,cACDX,KAAA,QAAK0B,KAAK,CAAE,CAAEO,YAAY,CAAE,MAAM,CAAEU,OAAO,CAAE,MAAM,CAAEC,cAAc,CAAE,eAAe,CAAEC,UAAU,CAAE,QAAS,CAAE,CAAAhB,QAAA,eAC3G7B,KAAA,QAAA6B,QAAA,eACE/B,IAAA,OAAI4B,KAAK,CAAE,CAAEoB,MAAM,CAAE,WAAY,CAAE,CAAAjB,QAAA,CAAEtB,WAAW,CAACwC,IAAI,CAAK,CAAC,cAC3DjD,IAAA,WACEqC,OAAO,CAAEA,CAAA,GAAM9B,QAAQ,CAAC,eAAe,CAAE,CACzCqB,KAAK,CAAE,CACLI,UAAU,CAAE,aAAa,CACzBC,KAAK,CAAE,SAAS,CAChBG,MAAM,CAAE,MAAM,CACdP,OAAO,CAAE,OAAO,CAChBS,MAAM,CAAE,SAAS,CACjBY,QAAQ,CAAE,MAAM,CAChBC,cAAc,CAAE,WAClB,CAAE,CAAApB,QAAA,CACH,6BAED,CAAQ,CAAC,EACN,CAAC,CACL,CAAAvB,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAE4C,IAAI,IAAK,aAAa,eAC3BpD,IAAA,WACEqC,OAAO,CAAEA,CAAA,GAAM9B,QAAQ,kBAAA8C,MAAA,CAAkB/C,EAAE,SAAO,CAAE,CACpDsB,KAAK,CAAE,CACLI,UAAU,CAAE,SAAS,CACrBC,KAAK,CAAE,MAAM,CACbG,MAAM,CAAE,MAAM,CACdP,OAAO,CAAE,WAAW,CACpBK,YAAY,CAAE,KAAK,CACnBI,MAAM,CAAE,SAAS,CACjBgB,UAAU,CAAE,KACd,CAAE,CAAAvB,QAAA,CACH,kBAED,CAAQ,CACT,EACE,CAAC,cAEN7B,KAAA,QAAK0B,KAAK,CAAE,CACViB,OAAO,CAAE,MAAM,CACfU,mBAAmB,CAAE,sCAAsC,CAC3DC,GAAG,CAAE,MAAM,CACXrB,YAAY,CAAE,MAChB,CAAE,CAAAJ,QAAA,eAEA7B,KAAA,QAAK0B,KAAK,CAAE,CACVI,UAAU,CAAE,OAAO,CACnBI,MAAM,CAAE,mBAAmB,CAC3BF,YAAY,CAAE,KAAK,CACnBL,OAAO,CAAE,MACX,CAAE,CAAAE,QAAA,eACA/B,IAAA,OAAI4B,KAAK,CAAE,CAAEoB,MAAM,CAAE,YAAY,CAAEf,KAAK,CAAE,MAAM,CAAEwB,YAAY,CAAE,mBAAmB,CAAEC,aAAa,CAAE,MAAO,CAAE,CAAA3B,QAAA,CAAC,mBAE9G,CAAI,CAAC,cACL7B,KAAA,QAAK0B,KAAK,CAAE,CAAEiB,OAAO,CAAE,MAAM,CAAEc,aAAa,CAAE,QAAQ,CAAEH,GAAG,CAAE,MAAO,CAAE,CAAAzB,QAAA,eACpE7B,KAAA,QAAA6B,QAAA,eACE/B,IAAA,WAAQ4B,KAAK,CAAE,CAAEK,KAAK,CAAE,MAAM,CAAEiB,QAAQ,CAAE,MAAO,CAAE,CAAAnB,QAAA,CAAC,OAAK,CAAQ,CAAC,cAClE/B,IAAA,QAAK4B,KAAK,CAAE,CAAEgC,SAAS,CAAE,KAAK,CAAE3B,KAAK,CAAE,MAAO,CAAE,CAAAF,QAAA,CAAEtB,WAAW,CAACwC,IAAI,CAAM,CAAC,EACtE,CAAC,CACLxC,WAAW,CAACoD,WAAW,eACtB3D,KAAA,QAAA6B,QAAA,eACE/B,IAAA,WAAQ4B,KAAK,CAAE,CAAEK,KAAK,CAAE,MAAM,CAAEiB,QAAQ,CAAE,MAAO,CAAE,CAAAnB,QAAA,CAAC,gBAAc,CAAQ,CAAC,cAC3E/B,IAAA,QAAK4B,KAAK,CAAE,CAAEgC,SAAS,CAAE,KAAK,CAAE3B,KAAK,CAAE,MAAO,CAAE,CAAAF,QAAA,CAC7C,GAAI,CAAA+B,IAAI,CAACrD,WAAW,CAACoD,WAAW,CAAC,CAACE,kBAAkB,CAAC,CAAC,CACpD,CAAC,EACH,CACN,CACAtD,WAAW,CAACuD,oBAAoB,eAC/B9D,KAAA,QAAA6B,QAAA,eACE/B,IAAA,WAAQ4B,KAAK,CAAE,CAAEK,KAAK,CAAE,MAAM,CAAEiB,QAAQ,CAAE,MAAO,CAAE,CAAAnB,QAAA,CAAC,YAAU,CAAQ,CAAC,cACvE/B,IAAA,QAAK4B,KAAK,CAAE,CAAEgC,SAAS,CAAE,KAAK,CAAE3B,KAAK,CAAE,MAAO,CAAE,CAAAF,QAAA,CAAEtB,WAAW,CAACuD,oBAAoB,CAAM,CAAC,EACtF,CACN,CACAvD,WAAW,CAACwD,MAAM,eACjB/D,KAAA,QAAA6B,QAAA,eACE/B,IAAA,WAAQ4B,KAAK,CAAE,CAAEK,KAAK,CAAE,MAAM,CAAEiB,QAAQ,CAAE,MAAO,CAAE,CAAAnB,QAAA,CAAC,SAAO,CAAQ,CAAC,cACpE/B,IAAA,QAAK4B,KAAK,CAAE,CAAEgC,SAAS,CAAE,KAAK,CAAE3B,KAAK,CAAE,MAAO,CAAE,CAAAF,QAAA,CAAEtB,WAAW,CAACwD,MAAM,CAAM,CAAC,EACxE,CACN,CACAxD,WAAW,CAACyD,OAAO,eAClBhE,KAAA,QAAA6B,QAAA,eACE/B,IAAA,WAAQ4B,KAAK,CAAE,CAAEK,KAAK,CAAE,MAAM,CAAEiB,QAAQ,CAAE,MAAO,CAAE,CAAAnB,QAAA,CAAC,UAAQ,CAAQ,CAAC,cACrE/B,IAAA,QAAK4B,KAAK,CAAE,CAAEgC,SAAS,CAAE,KAAK,CAAE3B,KAAK,CAAE,MAAO,CAAE,CAAAF,QAAA,CAAEtB,WAAW,CAACyD,OAAO,CAAM,CAAC,EACzE,CACN,CACAzD,WAAW,CAAC0D,YAAY,eACvBjE,KAAA,QAAA6B,QAAA,eACE/B,IAAA,WAAQ4B,KAAK,CAAE,CAAEK,KAAK,CAAE,MAAM,CAAEiB,QAAQ,CAAE,MAAO,CAAE,CAAAnB,QAAA,CAAC,gBAAc,CAAQ,CAAC,cAC3E/B,IAAA,QAAK4B,KAAK,CAAE,CAAEgC,SAAS,CAAE,KAAK,CAAE3B,KAAK,CAAE,MAAO,CAAE,CAAAF,QAAA,CAC7C,GAAI,CAAA+B,IAAI,CAACrD,WAAW,CAAC0D,YAAY,CAAC,CAACJ,kBAAkB,CAAC,CAAC,CACrD,CAAC,EACH,CACN,EACE,CAAC,EACH,CAAC,CAGLxB,WAAW,eACVrC,KAAA,QAAK0B,KAAK,CAAE,CACVI,UAAU,CAAE,OAAO,CACnBI,MAAM,CAAE,mBAAmB,CAC3BF,YAAY,CAAE,KAAK,CACnBL,OAAO,CAAE,MAAM,CACfC,SAAS,CAAE,QACb,CAAE,CAAAC,QAAA,eACA/B,IAAA,OAAI4B,KAAK,CAAE,CAAEoB,MAAM,CAAE,YAAY,CAAEf,KAAK,CAAE,MAAM,CAAEwB,YAAY,CAAE,mBAAmB,CAAEC,aAAa,CAAE,MAAO,CAAE,CAAA3B,QAAA,CAAC,eAE9G,CAAI,CAAC,cACL/B,IAAA,QACEoE,GAAG,CAAE7B,WAAY,CACjB8B,GAAG,IAAAhB,MAAA,CAAK5C,WAAW,CAACwC,IAAI,YAAW,CACnCrB,KAAK,CAAE,CACL0C,QAAQ,CAAE,MAAM,CAChBC,SAAS,CAAE,OAAO,CAClBrC,YAAY,CAAE,KAAK,CACnBsC,SAAS,CAAE,SACb,CAAE,CACH,CAAC,EACC,CACN,EACE,CAAC,CAGL,CAAC5B,cAAc,CAAC6B,MAAM,CAAG,CAAC,EAAKhE,WAAW,CAACiE,QAAQ,EAAIjE,WAAW,CAACiE,QAAQ,CAACD,MAAM,CAAG,CAAE,gBACtFvE,KAAA,QAAK0B,KAAK,CAAE,CACVI,UAAU,CAAE,OAAO,CACnBI,MAAM,CAAE,mBAAmB,CAC3BF,YAAY,CAAE,KAAK,CACnBL,OAAO,CAAE,MAAM,CACfM,YAAY,CAAE,MAChB,CAAE,CAAAJ,QAAA,eACA7B,KAAA,OAAI0B,KAAK,CAAE,CAAEoB,MAAM,CAAE,YAAY,CAAEf,KAAK,CAAE,MAAM,CAAEwB,YAAY,CAAE,mBAAmB,CAAEC,aAAa,CAAE,MAAO,CAAE,CAAA3B,QAAA,EAAC,YAClG,CAACa,cAAc,CAAC6B,MAAM,IAAApE,qBAAA,CAAII,WAAW,CAACiE,QAAQ,UAAArE,qBAAA,iBAApBA,qBAAA,CAAsBoE,MAAM,GAAI,CAAC,CAAC,GACxE,EAAI,CAAC,CACJ7B,cAAc,CAAC6B,MAAM,CAAG,CAAC,cACxBzE,IAAA,QAAK4B,KAAK,CAAE,CAAEiB,OAAO,CAAE,MAAM,CAAE8B,QAAQ,CAAE,MAAM,CAAEnB,GAAG,CAAE,MAAO,CAAE,CAAAzB,QAAA,CAC5Da,cAAc,CAACgC,GAAG,CAAC,CAACC,OAAO,CAAEC,KAAK,gBACjC5E,KAAA,QAEE0B,KAAK,CAAE,CACLI,UAAU,CAAE,SAAS,CACrBH,OAAO,CAAE,WAAW,CACpBK,YAAY,CAAE,KAAK,CACnBE,MAAM,CAAE,mBAAmB,CAC3BS,OAAO,CAAE,MAAM,CACfE,UAAU,CAAE,QAAQ,CACpBS,GAAG,CAAE,MAAM,CACXuB,QAAQ,CAAE,UAAU,CACpBC,IAAI,CAAE,WACR,CAAE,CAAAjD,QAAA,eAEF7B,KAAA,QAAK0B,KAAK,CAAE,CAAEoD,IAAI,CAAE,CAAE,CAAE,CAAAjD,QAAA,eACtB/B,IAAA,QAAK4B,KAAK,CAAE,CAAE0B,UAAU,CAAE,KAAK,CAAErB,KAAK,CAAE,MAAO,CAAE,CAAAF,QAAA,CAAE8C,OAAO,CAAC5B,IAAI,CAAM,CAAC,CACrE4B,OAAO,CAACI,WAAW,eAClBjF,IAAA,QAAK4B,KAAK,CAAE,CAAEsB,QAAQ,CAAE,MAAM,CAAEjB,KAAK,CAAE,MAAM,CAAE2B,SAAS,CAAE,KAAM,CAAE,CAAA7B,QAAA,CAC/D8C,OAAO,CAACI,WAAW,CAACR,MAAM,CAAG,GAAG,IAAApB,MAAA,CAC1BwB,OAAO,CAACI,WAAW,CAACC,SAAS,CAAC,CAAC,CAAE,GAAG,CAAC,QACxCL,OAAO,CAACI,WAAW,CACpB,CACN,EACE,CAAC,CACL,CAAAzE,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAE4C,IAAI,IAAK,aAAa,eAC3BpD,IAAA,WACEqC,OAAO,CAAE,KAAAA,CAAA,GAAY,CACnB,GAAI8C,MAAM,CAACC,OAAO,4DAAA/B,MAAA,CAA2DwB,OAAO,CAAC5B,IAAI,OAAI,CAAC,CAAE,CAC9F,GAAI,CACF,KAAM,CAAAnD,4BAA4B,CAACQ,EAAE,CAAEuE,OAAO,CAACvE,EAAE,CAAC,CAClDU,UAAU,CAAC,gDAAgD,CAAC,CAC5D,KAAM,CAAAK,eAAe,CAAC,CAAC,CACvBgE,UAAU,CAAC,IAAMrE,UAAU,CAAC,EAAE,CAAC,CAAE,IAAI,CAAC,CACxC,CAAE,MAAOQ,GAAG,CAAE,KAAA8D,cAAA,CAAAC,mBAAA,CACZzE,QAAQ,CAAC,CAAAU,GAAG,SAAHA,GAAG,kBAAA8D,cAAA,CAAH9D,GAAG,CAAEF,QAAQ,UAAAgE,cAAA,kBAAAC,mBAAA,CAAbD,cAAA,CAAe/D,IAAI,UAAAgE,mBAAA,iBAAnBA,mBAAA,CAAqB1E,KAAK,GAAI,2CAA2C,CAAC,CACrF,CACF,CACF,CAAE,CACFe,KAAK,CAAE,CACLI,UAAU,CAAE,SAAS,CACrBC,KAAK,CAAE,OAAO,CACdG,MAAM,CAAE,MAAM,CACdP,OAAO,CAAE,UAAU,CACnBK,YAAY,CAAE,KAAK,CACnBI,MAAM,CAAE,SAAS,CACjBY,QAAQ,CAAE,MAAM,CAChBsC,UAAU,CAAE,QACd,CAAE,CAAAzD,QAAA,CACH,QAED,CAAQ,CACT,GAlDI8C,OAAO,CAACvE,EAAE,EAAIwE,KAmDhB,CACN,CAAC,CACC,CAAC,cAEN9E,IAAA,QAAK4B,KAAK,CAAE,CAAEK,KAAK,CAAE,MAAM,CAAEwD,SAAS,CAAE,QAAQ,CAAE3D,SAAS,CAAE,QAAQ,CAAED,OAAO,CAAE,MAAO,CAAE,CAAAE,QAAA,CAAC,2BAE1F,CAAK,CACN,EACE,CACN,CAGAW,cAAc,CAAC+B,MAAM,CAAG,CAAC,eACxBvE,KAAA,QAAK0B,KAAK,CAAE,CACVI,UAAU,CAAE,OAAO,CACnBI,MAAM,CAAE,mBAAmB,CAC3BF,YAAY,CAAE,KAAK,CACnBL,OAAO,CAAE,MAAM,CACfM,YAAY,CAAE,MAChB,CAAE,CAAAJ,QAAA,eACA7B,KAAA,OAAI0B,KAAK,CAAE,CAAEoB,MAAM,CAAE,YAAY,CAAEf,KAAK,CAAE,MAAM,CAAEwB,YAAY,CAAE,mBAAmB,CAAEC,aAAa,CAAE,MAAO,CAAE,CAAA3B,QAAA,EAAC,mBAC3F,CAACW,cAAc,CAAC+B,MAAM,CAAC,GAC1C,EAAI,CAAC,cACLzE,IAAA,QAAK4B,KAAK,CAAE,CACViB,OAAO,CAAE,MAAM,CACfU,mBAAmB,CAAE,uCAAuC,CAC5DC,GAAG,CAAE,MACP,CAAE,CAAAzB,QAAA,CACCW,cAAc,CAACkC,GAAG,CAAC,CAACc,KAAK,CAAEZ,KAAK,gBAC/B5E,KAAA,QAA6B0B,KAAK,CAAE,CAAEmD,QAAQ,CAAE,UAAW,CAAE,CAAAhD,QAAA,eAC3D/B,IAAA,QACEoE,GAAG,CAAEsB,KAAK,CAACjD,GAAI,CACf4B,GAAG,UAAAhB,MAAA,CAAWyB,KAAK,CAAG,CAAC,CAAG,CAC1BlD,KAAK,CAAE,CACL+D,KAAK,CAAE,MAAM,CACbC,MAAM,CAAE,OAAO,CACfpB,SAAS,CAAE,OAAO,CAClBtC,YAAY,CAAE,KAAK,CACnBE,MAAM,CAAE,mBACV,CAAE,CACH,CAAC,CACD,CAAA5B,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAE4C,IAAI,IAAK,aAAa,eAC3BpD,IAAA,WACEqC,OAAO,CAAE,KAAAA,CAAA,GAAY,CACnB,GAAI8C,MAAM,CAACC,OAAO,CAAC,6CAA6C,CAAC,CAAE,CACjE,GAAI,CACF,KAAM,CAAAvF,sBAAsB,CAACS,EAAE,CAAEoF,KAAK,CAACpF,EAAE,CAAC,CAC1CU,UAAU,CAAC,6BAA6B,CAAC,CACzC,KAAM,CAAAK,eAAe,CAAC,CAAC,CACvBgE,UAAU,CAAC,IAAMrE,UAAU,CAAC,EAAE,CAAC,CAAE,IAAI,CAAC,CACxC,CAAE,MAAOQ,GAAG,CAAE,KAAAqE,cAAA,CAAAC,mBAAA,CACZhF,QAAQ,CAAC,CAAAU,GAAG,SAAHA,GAAG,kBAAAqE,cAAA,CAAHrE,GAAG,CAAEF,QAAQ,UAAAuE,cAAA,kBAAAC,mBAAA,CAAbD,cAAA,CAAetE,IAAI,UAAAuE,mBAAA,iBAAnBA,mBAAA,CAAqBjF,KAAK,GAAI,wBAAwB,CAAC,CAClE,CACF,CACF,CAAE,CACFe,KAAK,CAAE,CACLmD,QAAQ,CAAE,UAAU,CACpBgB,GAAG,CAAE,KAAK,CACVC,KAAK,CAAE,KAAK,CACZhE,UAAU,CAAE,wBAAwB,CACpCC,KAAK,CAAE,OAAO,CACdG,MAAM,CAAE,MAAM,CACdF,YAAY,CAAE,KAAK,CACnByD,KAAK,CAAE,MAAM,CACbC,MAAM,CAAE,MAAM,CACdtD,MAAM,CAAE,SAAS,CACjBY,QAAQ,CAAE,MAAM,CAChBL,OAAO,CAAE,MAAM,CACfE,UAAU,CAAE,QAAQ,CACpBD,cAAc,CAAE,QAAQ,CACxBQ,UAAU,CAAE,MACd,CAAE,CACF2C,KAAK,CAAC,cAAc,CAAAlE,QAAA,CACrB,MAED,CAAQ,CACT,CACA,CAAC2D,KAAK,CAACQ,OAAO,EAAIR,KAAK,CAACS,QAAQ,gBAC/BjG,KAAA,QAAK0B,KAAK,CAAE,CACVgC,SAAS,CAAE,KAAK,CAChBV,QAAQ,CAAE,MAAM,CAChBjB,KAAK,CAAE,MACT,CAAE,CAAAF,QAAA,EACC2D,KAAK,CAACQ,OAAO,eAAIhG,KAAA,QAAA6B,QAAA,eAAK/B,IAAA,WAAA+B,QAAA,CAAQ,UAAQ,CAAQ,CAAC,IAAC,CAAC2D,KAAK,CAACQ,OAAO,EAAM,CAAC,CACrER,KAAK,CAACS,QAAQ,eAAIjG,KAAA,QAAA6B,QAAA,eAAK/B,IAAA,WAAA+B,QAAA,CAAQ,WAAS,CAAQ,CAAC,IAAC,CAAC2D,KAAK,CAACS,QAAQ,EAAM,CAAC,CACxET,KAAK,CAACU,UAAU,eACfpG,IAAA,QAAK4B,KAAK,CAAE,CAAEgC,SAAS,CAAE,KAAK,CAAEV,QAAQ,CAAE,MAAM,CAAEjB,KAAK,CAAE,MAAO,CAAE,CAAAF,QAAA,CAC/D2D,KAAK,CAACU,UAAU,CAACC,OAAO,CACrB,GAAI,CAAAvC,IAAI,CAAC4B,KAAK,CAACU,UAAU,CAACC,OAAO,CAAG,IAAI,CAAC,CAACtC,kBAAkB,CAAC,CAAC,CAC9D,GAAI,CAAAD,IAAI,CAAC4B,KAAK,CAACU,UAAU,CAAC,CAACrC,kBAAkB,CAAC,CAAC,CAChD,CACN,EACE,CACN,GAhEO2B,KAAK,CAACpF,EAAE,EAAIwE,KAiEjB,CACN,CAAC,CACC,CAAC,EACH,CACN,cAGD5E,KAAA,QAAK0B,KAAK,CAAE,CACVI,UAAU,CAAE,OAAO,CACnBI,MAAM,CAAE,mBAAmB,CAC3BF,YAAY,CAAE,KAAK,CACnBL,OAAO,CAAE,MACX,CAAE,CAAAE,QAAA,eACA7B,KAAA,QAAK0B,KAAK,CAAE,CAAEiB,OAAO,CAAE,MAAM,CAAEC,cAAc,CAAE,eAAe,CAAEC,UAAU,CAAE,QAAQ,CAAEZ,YAAY,CAAE,MAAM,CAAEwC,QAAQ,CAAE,MAAM,CAAEnB,GAAG,CAAE,MAAO,CAAE,CAAAzB,QAAA,eAC1I7B,KAAA,OAAI0B,KAAK,CAAE,CAAEoB,MAAM,CAAE,GAAG,CAAEf,KAAK,CAAE,MAAM,CAAEwB,YAAY,CAAE,mBAAmB,CAAEC,aAAa,CAAE,MAAO,CAAE,CAAA3B,QAAA,EAAC,SAC5F,CAACY,KAAK,CAAC8B,MAAM,CAAC,GACvB,EAAI,CAAC,CACJ9B,KAAK,CAAC8B,MAAM,CAAG,CAAC,eACfvE,KAAA,QAAK0B,KAAK,CAAE,CAAEiB,OAAO,CAAE,MAAM,CAAEW,GAAG,CAAE,MAAM,CAAET,UAAU,CAAE,QAAQ,CAAE4B,QAAQ,CAAE,MAAO,CAAE,CAAA5C,QAAA,eACnF7B,KAAA,QAAK0B,KAAK,CAAE,CAAEiB,OAAO,CAAE,MAAM,CAAEW,GAAG,CAAE,KAAK,CAAET,UAAU,CAAE,QAAS,CAAE,CAAAhB,QAAA,eAChE/B,IAAA,UAAO4B,KAAK,CAAE,CAAEsB,QAAQ,CAAE,MAAM,CAAEjB,KAAK,CAAE,MAAO,CAAE,CAAAF,QAAA,CAAC,OAAK,CAAO,CAAC,cAChE/B,IAAA,UACEsG,IAAI,CAAC,MAAM,CACXC,KAAK,CAAEtF,eAAgB,CACvBuF,QAAQ,CAAGC,CAAC,EAAKvF,kBAAkB,CAACuF,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CACpD3E,KAAK,CAAE,CACLC,OAAO,CAAE,SAAS,CAClBO,MAAM,CAAE,mBAAmB,CAC3BF,YAAY,CAAE,KAAK,CACnBgB,QAAQ,CAAE,MACZ,CAAE,CACH,CAAC,EACC,CAAC,cACNhD,KAAA,QAAK0B,KAAK,CAAE,CAAEiB,OAAO,CAAE,MAAM,CAAEW,GAAG,CAAE,KAAK,CAAET,UAAU,CAAE,QAAS,CAAE,CAAAhB,QAAA,eAChE/B,IAAA,UAAO4B,KAAK,CAAE,CAAEsB,QAAQ,CAAE,MAAM,CAAEjB,KAAK,CAAE,MAAO,CAAE,CAAAF,QAAA,CAAC,KAAG,CAAO,CAAC,cAC9D/B,IAAA,UACEsG,IAAI,CAAC,MAAM,CACXC,KAAK,CAAEpF,aAAc,CACrBqF,QAAQ,CAAGC,CAAC,EAAKrF,gBAAgB,CAACqF,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CAClD3E,KAAK,CAAE,CACLC,OAAO,CAAE,SAAS,CAClBO,MAAM,CAAE,mBAAmB,CAC3BF,YAAY,CAAE,KAAK,CACnBgB,QAAQ,CAAE,MACZ,CAAE,CACH,CAAC,EACC,CAAC,cACNlD,IAAA,WACEqC,OAAO,CAAEA,CAAA,GAAM,CACb;AACA,KAAM,CAAAsE,WAAW,CAAIC,IAAI,EAAK,CAC5B,GAAI,CACF,GAAIA,IAAI,CAACC,SAAS,EAAI,MAAO,CAAAD,IAAI,CAACC,SAAS,GAAK,QAAQ,CAAE,CACxD,GAAID,IAAI,CAACC,SAAS,CAACR,OAAO,CAAE,CAC1B,MAAO,IAAI,CAAAvC,IAAI,CAAC8C,IAAI,CAACC,SAAS,CAACR,OAAO,CAAG,IAAI,CAAC,CAChD,CAAC,IAAM,IAAIO,IAAI,CAACC,SAAS,CAACC,MAAM,CAAE,CAChC,MAAO,CAAAF,IAAI,CAACC,SAAS,CAACC,MAAM,CAAC,CAAC,CAChC,CAAC,IAAM,IAAIF,IAAI,CAACC,SAAS,CAACE,QAAQ,CAAE,CAClC,MAAO,IAAI,CAAAjD,IAAI,CAAC8C,IAAI,CAACC,SAAS,CAACE,QAAQ,CAAG,IAAI,CAAC,CACjD,CACF,CACA,KAAM,CAAAC,IAAI,CAAG,GAAI,CAAAlD,IAAI,CAAC8C,IAAI,CAACC,SAAS,CAAC,CACrC,MAAO,CAAAI,KAAK,CAACD,IAAI,CAACE,OAAO,CAAC,CAAC,CAAC,CAAG,IAAI,CAAGF,IAAI,CAC5C,CAAE,MAAOP,CAAC,CAAE,CACV,MAAO,KAAI,CACb,CACF,CAAC,CAED,GAAI,CAAAU,aAAa,CAAGxE,KAAK,CAEzB,GAAI1B,eAAe,EAAIE,aAAa,CAAE,CACpCgG,aAAa,CAAGxE,KAAK,CAACyE,MAAM,CAACR,IAAI,EAAI,CACnC,KAAM,CAAAS,QAAQ,CAAGV,WAAW,CAACC,IAAI,CAAC,CAClC,GAAI,CAACS,QAAQ,CAAE,MAAO,MAAK,CAE3B,KAAM,CAAAC,SAAS,CAAGrG,eAAe,CAAG,GAAI,CAAA6C,IAAI,CAAC7C,eAAe,CAAC,CAAG,IAAI,CACpE,KAAM,CAAAsG,OAAO,CAAGpG,aAAa,CAAG,GAAI,CAAA2C,IAAI,CAAC3C,aAAa,CAAC,CAAG,IAAI,CAE9D,GAAImG,SAAS,CAAE,CACbA,SAAS,CAACE,QAAQ,CAAC,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAC,CAChC,CACA,GAAID,OAAO,CAAE,CACXA,OAAO,CAACC,QAAQ,CAAC,EAAE,CAAE,EAAE,CAAE,EAAE,CAAE,GAAG,CAAC,CACnC,CAEA,KAAM,CAAAC,YAAY,CAAG,GAAI,CAAA3D,IAAI,CAACuD,QAAQ,CAAC,CACvCI,YAAY,CAACD,QAAQ,CAAC,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAC,CAEjC,KAAM,CAAAE,UAAU,CAAG,CAACJ,SAAS,EAAIG,YAAY,EAAIH,SAAS,CAC1D,KAAM,CAAAK,SAAS,CAAG,CAACJ,OAAO,EAAIE,YAAY,EAAIF,OAAO,CAErD,MAAO,CAAAG,UAAU,EAAIC,SAAS,CAChC,CAAC,CAAC,CACJ,CAEA;AACA,KAAM,CAAAC,OAAO,CAAG,CAAC,MAAM,CAAE,QAAQ,CAAE,MAAM,CAAE,SAAS,CAAC,CACrD,KAAM,CAAAC,IAAI,CAAGV,aAAa,CAACvC,GAAG,CAACgC,IAAI,EAAI,CACrC,KAAM,CAAAI,IAAI,CAAGL,WAAW,CAACC,IAAI,CAAC,CAC9B,KAAM,CAAAkB,OAAO,CAAGd,IAAI,CAAGA,IAAI,CAACjD,kBAAkB,CAAC,CAAC,CAAG,KAAK,CACxD,KAAM,CAAAgE,MAAM,CAAGnB,IAAI,CAACmB,MAAM,EAAI,cAAc,CAC5C,KAAM,CAAAzB,IAAI,CAAGM,IAAI,CAACN,IAAI,EAAI,EAAE,CAC5B,KAAM,CAAA0B,OAAO,CAAG,CAACpB,IAAI,CAACoB,OAAO,EAAI,EAAE,EAAEC,OAAO,CAAC,IAAI,CAAE,IAAI,CAAC,CAAE;AAC1D,MAAO,CAACH,OAAO,CAAEC,MAAM,CAAEzB,IAAI,MAAAjD,MAAA,CAAM2E,OAAO,OAAI,CAChD,CAAC,CAAC,CAEF,KAAM,CAAAE,UAAU,CAAG,CACjBN,OAAO,CAACO,IAAI,CAAC,GAAG,CAAC,CACjB,GAAGN,IAAI,CAACjD,GAAG,CAACwD,GAAG,EAAIA,GAAG,CAACD,IAAI,CAAC,GAAG,CAAC,CAAC,CAClC,CAACA,IAAI,CAAC,IAAI,CAAC,CAEZ;AACA,KAAM,CAAAE,IAAI,CAAG,GAAI,CAAAC,IAAI,CAAC,CAACJ,UAAU,CAAC,CAAE,CAAE5B,IAAI,CAAE,yBAA0B,CAAC,CAAC,CACxE,KAAM,CAAAiC,IAAI,CAAGC,QAAQ,CAACC,aAAa,CAAC,GAAG,CAAC,CACxC,KAAM,CAAAhG,GAAG,CAAGiG,GAAG,CAACC,eAAe,CAACN,IAAI,CAAC,CACrCE,IAAI,CAACK,YAAY,CAAC,MAAM,CAAEnG,GAAG,CAAC,CAC9B8F,IAAI,CAACK,YAAY,CAAC,UAAU,IAAAvF,MAAA,CAAK5C,WAAW,CAACwC,IAAI,CAACgF,OAAO,CAAC,aAAa,CAAE,GAAG,CAAC,YAAA5E,MAAA,CAAU,GAAI,CAAAS,IAAI,CAAC,CAAC,CAAC+E,WAAW,CAAC,CAAC,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,QAAM,CAAC,CACpIP,IAAI,CAAC3G,KAAK,CAACmH,UAAU,CAAG,QAAQ,CAChCP,QAAQ,CAACQ,IAAI,CAACC,WAAW,CAACV,IAAI,CAAC,CAC/BA,IAAI,CAACW,KAAK,CAAC,CAAC,CACZV,QAAQ,CAACQ,IAAI,CAACG,WAAW,CAACZ,IAAI,CAAC,CAE/BvH,UAAU,eAAAqC,MAAA,CAAe8D,aAAa,CAAC1C,MAAM,mBAAiB,CAAC,CAC/DY,UAAU,CAAC,IAAMrE,UAAU,CAAC,EAAE,CAAC,CAAE,IAAI,CAAC,CACxC,CAAE,CACFY,KAAK,CAAE,CACLI,UAAU,CAAE,SAAS,CACrBC,KAAK,CAAE,OAAO,CACdG,MAAM,CAAE,MAAM,CACdP,OAAO,CAAE,UAAU,CACnBK,YAAY,CAAE,KAAK,CACnBI,MAAM,CAAE,SAAS,CACjBY,QAAQ,CAAE,MAAM,CAChBI,UAAU,CAAE,KACd,CAAE,CAAAvB,QAAA,CACH,oCAED,CAAQ,CAAC,EACN,CACN,EACE,CAAC,CACLY,KAAK,CAAC8B,MAAM,CAAG,CAAC,cACfzE,IAAA,QAAK4B,KAAK,CAAE,CAAEiB,OAAO,CAAE,MAAM,CAAEc,aAAa,CAAE,QAAQ,CAAEH,GAAG,CAAE,MAAO,CAAE,CAAAzB,QAAA,CACnEY,KAAK,CAACiC,GAAG,CAAC,CAACgC,IAAI,CAAE9B,KAAK,gBACrB5E,KAAA,QAEE0B,KAAK,CAAE,CACLI,UAAU,CAAE,SAAS,CACrBH,OAAO,CAAE,MAAM,CACfK,YAAY,CAAE,KAAK,CACnBE,MAAM,CAAE,mBAAmB,CAC3B2C,QAAQ,CAAE,UAAU,CACpBrB,aAAa,CAAE,CAAAlD,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAE4C,IAAI,IAAK,aAAa,CAAG,MAAM,CAAG,MACzD,CAAE,CAAArB,QAAA,eAEF7B,KAAA,QAAK0B,KAAK,CAAE,CAAEiB,OAAO,CAAE,MAAM,CAAEC,cAAc,CAAE,eAAe,CAAEX,YAAY,CAAE,KAAM,CAAE,CAAAJ,QAAA,eACpF/B,IAAA,QAAK4B,KAAK,CAAE,CAAE0B,UAAU,CAAE,KAAK,CAAErB,KAAK,CAAE,MAAO,CAAE,CAAAF,QAAA,CAC9C6E,IAAI,CAACmB,MAAM,EAAI,cAAc,CAC3B,CAAC,CACLnB,IAAI,CAACC,SAAS,eACb7G,IAAA,QAAK4B,KAAK,CAAE,CAAEsB,QAAQ,CAAE,MAAM,CAAEjB,KAAK,CAAE,MAAO,CAAE,CAAAF,QAAA,CAC7C,CAAC,IAAM,CACN,GAAI,CACF;AACA,GAAI6E,IAAI,CAACC,SAAS,EAAI,MAAO,CAAAD,IAAI,CAACC,SAAS,GAAK,QAAQ,CAAE,CACxD,GAAID,IAAI,CAACC,SAAS,CAACR,OAAO,CAAE,CAC1B,MAAO,IAAI,CAAAvC,IAAI,CAAC8C,IAAI,CAACC,SAAS,CAACR,OAAO,CAAG,IAAI,CAAC,CAACtC,kBAAkB,CAAC,CAAC,CACrE,CAAC,IAAM,IAAI6C,IAAI,CAACC,SAAS,CAACC,MAAM,CAAE,CAChC,MAAO,CAAAF,IAAI,CAACC,SAAS,CAACC,MAAM,CAAC,CAAC,CAAC/C,kBAAkB,CAAC,CAAC,CACrD,CAAC,IAAM,IAAI6C,IAAI,CAACC,SAAS,CAACE,QAAQ,CAAE,CAClC,MAAO,IAAI,CAAAjD,IAAI,CAAC8C,IAAI,CAACC,SAAS,CAACE,QAAQ,CAAG,IAAI,CAAC,CAAChD,kBAAkB,CAAC,CAAC,CACtE,CACF,CACA;AACA,KAAM,CAAAiD,IAAI,CAAG,GAAI,CAAAlD,IAAI,CAAC8C,IAAI,CAACC,SAAS,CAAC,CACrC,GAAI,CAACI,KAAK,CAACD,IAAI,CAACE,OAAO,CAAC,CAAC,CAAC,CAAE,CAC1B,MAAO,CAAAF,IAAI,CAACjD,kBAAkB,CAAC,CAAC,CAClC,CACA,MAAO,cAAc,CACvB,CAAE,MAAO0C,CAAC,CAAE,CACV9E,OAAO,CAACd,KAAK,CAAC,6BAA6B,CAAE4F,CAAC,CAAEG,IAAI,CAACC,SAAS,CAAC,CAC/D,MAAO,cAAc,CACvB,CACF,CAAC,EAAE,CAAC,CACD,CACN,EACE,CAAC,CACLD,IAAI,CAACN,IAAI,eACRtG,IAAA,QAAK4B,KAAK,CAAE,CACViB,OAAO,CAAE,cAAc,CACvBb,UAAU,CAAE,SAAS,CACrBC,KAAK,CAAE,OAAO,CACdJ,OAAO,CAAE,SAAS,CAClBK,YAAY,CAAE,KAAK,CACnBgB,QAAQ,CAAE,MAAM,CAChBf,YAAY,CAAE,KAChB,CAAE,CAAAJ,QAAA,CACC6E,IAAI,CAACN,IAAI,CACP,CACN,cACDtG,IAAA,QAAK4B,KAAK,CAAE,CAAEK,KAAK,CAAE,MAAM,CAAEmH,UAAU,CAAE,KAAK,CAAEjH,YAAY,CAAE,KAAM,CAAE,CAAAJ,QAAA,CAAE6E,IAAI,CAACoB,OAAO,CAAM,CAAC,CAC1F,CAAAxH,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAE4C,IAAI,IAAK,aAAa,eAC3BpD,IAAA,WACEqC,OAAO,CAAE,KAAAA,CAAA,GAAY,CACnB,GAAI8C,MAAM,CAACC,OAAO,CAAC,4CAA4C,CAAC,CAAE,CAChE,GAAI,CACF,KAAM,CAAAxF,qBAAqB,CAACU,EAAE,CAAEsG,IAAI,CAACtG,EAAE,CAAC,CACxCU,UAAU,CAAC,4BAA4B,CAAC,CACxC,KAAM,CAAAK,eAAe,CAAC,CAAC,CACvBgE,UAAU,CAAC,IAAMrE,UAAU,CAAC,EAAE,CAAC,CAAE,IAAI,CAAC,CACxC,CAAE,MAAOQ,GAAG,CAAE,KAAA6H,cAAA,CAAAC,mBAAA,CACZxI,QAAQ,CAAC,CAAAU,GAAG,SAAHA,GAAG,kBAAA6H,cAAA,CAAH7H,GAAG,CAAEF,QAAQ,UAAA+H,cAAA,kBAAAC,mBAAA,CAAbD,cAAA,CAAe9H,IAAI,UAAA+H,mBAAA,iBAAnBA,mBAAA,CAAqBzI,KAAK,GAAI,uBAAuB,CAAC,CACjE,CACF,CACF,CAAE,CACFe,KAAK,CAAE,CACLmD,QAAQ,CAAE,UAAU,CACpBwE,MAAM,CAAE,MAAM,CACdvD,KAAK,CAAE,MAAM,CACbhE,UAAU,CAAE,SAAS,CACrBC,KAAK,CAAE,OAAO,CACdG,MAAM,CAAE,MAAM,CACdF,YAAY,CAAE,KAAK,CACnBL,OAAO,CAAE,UAAU,CACnBS,MAAM,CAAE,SAAS,CACjBY,QAAQ,CAAE,MACZ,CAAE,CAAAnB,QAAA,CACH,QAED,CAAQ,CACT,GArFI6E,IAAI,CAACtG,EAAE,EAAIwE,KAsFb,CACN,CAAC,CACC,CAAC,cAEN9E,IAAA,QAAK4B,KAAK,CAAE,CAAEK,KAAK,CAAE,MAAM,CAAEwD,SAAS,CAAE,QAAQ,CAAE3D,SAAS,CAAE,QAAQ,CAAED,OAAO,CAAE,MAAO,CAAE,CAAAE,QAAA,CAAC,cAE1F,CAAK,CACN,EACE,CAAC,EACH,CAAC,CAEV,CAAC,CAED,cAAe,CAAA5B,iBAAiB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}