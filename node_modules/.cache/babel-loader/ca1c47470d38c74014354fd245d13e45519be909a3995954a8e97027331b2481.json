{"ast":null,"code":"import _objectSpread from\"/Users/sareena/HeartSmiles/heart-smiles-tracker/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{useParams,useNavigate}from'react-router-dom';import{useAuth}from'../context/AuthContext';import{fetchProgramByName,updateProgram,fetchParticipants,addParticipant,removeParticipant,uploadImage}from'../services/api';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ProgramsEdit=()=>{const{name}=useParams();const navigate=useNavigate();const{user}=useAuth();const[formData,setFormData]=useState({name:'',description:'',location:'',startDate:'',endDate:''});const[loading,setLoading]=useState(true);const[error,setError]=useState('');const[success,setSuccess]=useState('');const[uploading,setUploading]=useState(false);const[allParticipants,setAllParticipants]=useState([]);const[programParticipants,setProgramParticipants]=useState([]);const[searchTerm,setSearchTerm]=useState('');const[addParticipantId,setAddParticipantId]=useState('');useEffect(()=>{if((user===null||user===void 0?void 0:user.role)!=='heartSmiles'){navigate('/programs');return;}loadProgram();loadAllParticipants();// eslint-disable-next-line\n},[name,user]);const loadProgram=async()=>{try{setLoading(true);setError('');const response=await fetchProgramByName(name);const p=response.data.program;setFormData({name:p.name||'',description:p.description||'',location:p.location||'',startDate:p.startDate?p.startDate.seconds?new Date(p.startDate.seconds*1000).toISOString().split('T')[0]:p.startDate.slice(0,10):'',endDate:p.endDate?p.endDate.seconds?new Date(p.endDate.seconds*1000).toISOString().split('T')[0]:p.endDate.slice(0,10):''});// Set program participants\nif(p.participantDetails&&p.participantDetails.length>0){setProgramParticipants(p.participantDetails);}else if(p.participants&&p.participants.length>0){// If participantDetails not available, fetch them\nconst participantPromises=p.participants.map(pid=>fetchParticipants().then(res=>{var _res$data;const participants=((_res$data=res.data)===null||_res$data===void 0?void 0:_res$data.participants)||res.data||[];return participants.find(p=>p.id===pid);}).catch(()=>null));const details=await Promise.all(participantPromises);setProgramParticipants(details.filter(p=>p!==null));}}catch(err){var _err$response,_err$response$data;setError((err===null||err===void 0?void 0:(_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.error)||'Failed to load program');}finally{setLoading(false);}};const loadAllParticipants=async()=>{try{var _resp$data;const resp=await fetchParticipants();const allParticipants=((_resp$data=resp.data)===null||_resp$data===void 0?void 0:_resp$data.participants)||resp.data||[];// Filter out inactive participants\nconst activeParticipants=allParticipants.filter(p=>p.isActive!==false);setAllParticipants(activeParticipants);}catch(err){// not fatal\n}};const handleInputChange=e=>{const{name:fieldName,value}=e.target;setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{[fieldName]:value}));};const handleSubmit=async e=>{e.preventDefault();setError('');setSuccess('');try{await updateProgram(name,formData);setSuccess('Program updated successfully!');setTimeout(()=>{setSuccess('');navigate(\"/programs/\".concat(encodeURIComponent(name)));},1200);}catch(err){var _err$response2,_err$response2$data;setError((err===null||err===void 0?void 0:(_err$response2=err.response)===null||_err$response2===void 0?void 0:(_err$response2$data=_err$response2.data)===null||_err$response2$data===void 0?void 0:_err$response2$data.error)||'Failed to update program');}};const handleImageUpload=async e=>{const file=e.target.files[0];if(!file)return;if(!file.type.startsWith('image/')){setError('Please select an image file');return;}try{setUploading(true);setError('');const formData=new FormData();formData.append('image',file);formData.append('type','program');formData.append('folder','heart-smiles/programs');const uploadResponse=await uploadImage(formData);// For now, we'll just show success. Photo storage for programs can be added later.\nsetSuccess('Photo uploaded successfully!');setTimeout(()=>setSuccess(''),3000);}catch(err){var _err$response3,_err$response3$data;setError((err===null||err===void 0?void 0:(_err$response3=err.response)===null||_err$response3===void 0?void 0:(_err$response3$data=_err$response3.data)===null||_err$response3$data===void 0?void 0:_err$response3$data.error)||'Failed to upload image');}finally{setUploading(false);e.target.value='';}};const handleAddParticipant=async e=>{e.preventDefault();if(!addParticipantId)return;try{setError('');await addParticipant(name,{participantId:addParticipantId});setSuccess('Participant added!');setAddParticipantId('');setSearchTerm('');await loadProgram();setTimeout(()=>setSuccess(''),3000);}catch(err){var _err$response4,_err$response4$data;setError((err===null||err===void 0?void 0:(_err$response4=err.response)===null||_err$response4===void 0?void 0:(_err$response4$data=_err$response4.data)===null||_err$response4$data===void 0?void 0:_err$response4$data.error)||'Failed to add participant');}};const handleRemoveParticipant=async participantId=>{if(!window.confirm('Are you sure you want to remove this participant from the program?'))return;try{setError('');await removeParticipant(name,participantId);setSuccess('Participant removed!');await loadProgram();setTimeout(()=>setSuccess(''),3000);}catch(err){var _err$response5,_err$response5$data;setError((err===null||err===void 0?void 0:(_err$response5=err.response)===null||_err$response5===void 0?void 0:(_err$response5$data=_err$response5.data)===null||_err$response5$data===void 0?void 0:_err$response5$data.error)||'Failed to remove participant');}};if(loading){return/*#__PURE__*/_jsx(\"div\",{style:{padding:'20px',textAlign:'center'},children:/*#__PURE__*/_jsx(\"h2\",{children:\"Loading Program...\"})});}if(error&&!formData.name){return/*#__PURE__*/_jsxs(\"div\",{style:{padding:'20px'},children:[/*#__PURE__*/_jsx(\"div\",{style:{background:'#f8d7da',color:'#721c24',padding:'12px 20px',borderRadius:'6px',marginBottom:'20px',border:'1px solid #f5c6cb'},children:error}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate('/programs'),style:{background:'#6c757d',color:'white',border:'none',padding:'10px 20px',borderRadius:'5px',cursor:'pointer'},children:\"\\u2190 Back to Programs\"})]});}return/*#__PURE__*/_jsxs(\"div\",{style:{padding:'20px',maxWidth:900,margin:'0 auto'},children:[success&&/*#__PURE__*/_jsxs(\"div\",{style:{background:'#d4edda',color:'#155724',padding:'12px 20px',borderRadius:'6px',marginBottom:'20px',border:'1px solid #c3e6cb'},children:[\"\\u2705 \",success]}),error&&/*#__PURE__*/_jsxs(\"div\",{style:{background:'#f8d7da',color:'#721c24',padding:'12px 20px',borderRadius:'6px',marginBottom:'20px',border:'1px solid #f5c6cb'},children:[\"\\u274C \",error]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center',marginBottom:32},children:[/*#__PURE__*/_jsx(\"h1\",{style:{margin:0},children:\"Edit Program\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate(\"/programs/\".concat(encodeURIComponent(name))),style:{background:'#6c757d',color:'white',border:'none',padding:'10px 20px',borderRadius:'5px',cursor:'pointer'},children:\"\\u2190 Cancel\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gridTemplateColumns:'repeat(auto-fit, minmax(400px, 1fr))',gap:'20px'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{background:'white',border:'1px solid #e1e5e9',borderRadius:'8px',padding:'20px'},children:[/*#__PURE__*/_jsx(\"h3\",{style:{margin:'0 0 20px 0',color:'#333',borderBottom:'2px solid #667eea',paddingBottom:'10px'},children:\"Program Details\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',flexDirection:'column',gap:'16px'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{fontWeight:'500',display:'block',marginBottom:'6px'},children:\"Program Name *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"name\",value:formData.name,required:true,onChange:handleInputChange,style:{width:'100%',padding:'8px 12px',border:'1px solid #ddd',borderRadius:'4px',fontSize:'14px',boxSizing:'border-box'}})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{fontWeight:'500',display:'block',marginBottom:'6px'},children:\"Description *\"}),/*#__PURE__*/_jsx(\"textarea\",{name:\"description\",value:formData.description,required:true,onChange:handleInputChange,rows:4,style:{width:'100%',padding:'8px 12px',border:'1px solid #ddd',borderRadius:'4px',fontSize:'14px',fontFamily:'inherit',resize:'vertical',boxSizing:'border-box'}})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{fontWeight:'500',display:'block',marginBottom:'6px'},children:\"Location\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"location\",value:formData.location,onChange:handleInputChange,style:{width:'100%',padding:'8px 12px',border:'1px solid #ddd',borderRadius:'4px',fontSize:'14px',boxSizing:'border-box'}})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'16px'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{flex:1},children:[/*#__PURE__*/_jsx(\"label\",{style:{fontWeight:'500',display:'block',marginBottom:'6px'},children:\"Start Date\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",name:\"startDate\",value:formData.startDate,onChange:handleInputChange,style:{width:'100%',padding:'8px 12px',border:'1px solid #ddd',borderRadius:'4px',fontSize:'14px',boxSizing:'border-box'}})]}),/*#__PURE__*/_jsxs(\"div\",{style:{flex:1},children:[/*#__PURE__*/_jsx(\"label\",{style:{fontWeight:'500',display:'block',marginBottom:'6px'},children:\"End Date\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",name:\"endDate\",value:formData.endDate,onChange:handleInputChange,style:{width:'100%',padding:'8px 12px',border:'1px solid #ddd',borderRadius:'4px',fontSize:'14px',boxSizing:'border-box'}})]})]})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",style:{background:'#28a745',color:'white',border:'none',padding:'10px 24px',borderRadius:'5px',cursor:'pointer',marginTop:24,fontSize:16,fontWeight:'500'},children:\"Save Changes\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{background:'white',border:'1px solid #e1e5e9',borderRadius:'8px',padding:'20px'},children:[/*#__PURE__*/_jsx(\"h3\",{style:{margin:'0 0 20px 0',color:'#333',borderBottom:'2px solid #667eea',paddingBottom:'10px'},children:\"Program Photos\"}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'20px'},children:[/*#__PURE__*/_jsx(\"label\",{style:{fontWeight:'500',display:'block',marginBottom:'8px'},children:\"Upload Photo\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",accept:\"image/*\",onChange:handleImageUpload,disabled:uploading,style:{width:'100%',padding:'8px 12px',border:'1px solid #ddd',borderRadius:'4px',fontSize:'14px',boxSizing:'border-box'}}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'12px',color:'#666',margin:'5px 0 0 0'},children:\"Maximum file size: 10MB. Supported formats: JPG, PNG, GIF\"}),uploading&&/*#__PURE__*/_jsx(\"div\",{style:{background:'#e7f3ff',padding:'10px',borderRadius:'4px',textAlign:'center',color:'#0066cc',marginTop:'10px'},children:\"Uploading image...\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{background:'white',border:'1px solid #e1e5e9',borderRadius:'8px',padding:'20px',gridColumn:'1 / -1'},children:[/*#__PURE__*/_jsxs(\"h3\",{style:{margin:'0 0 20px 0',color:'#333',borderBottom:'2px solid #667eea',paddingBottom:'10px'},children:[\"Participants (\",programParticipants.length,\")\"]}),programParticipants.length>0&&/*#__PURE__*/_jsx(\"div\",{style:{marginBottom:'20px'},children:/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',flexWrap:'wrap',gap:'10px'},children:programParticipants.map((participant,index)=>/*#__PURE__*/_jsxs(\"div\",{style:{background:'#f8f9fa',padding:'10px 15px',borderRadius:'6px',border:'1px solid #e1e5e9',display:'flex',alignItems:'center',gap:'12px',position:'relative',flex:'1 1 250px'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{flex:1},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontWeight:'500',color:'#333'},children:participant.name}),participant.school&&/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'12px',color:'#666',marginTop:'3px'},children:participant.school})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleRemoveParticipant(participant.id),style:{background:'#dc3545',color:'white',border:'none',padding:'4px 10px',borderRadius:'4px',cursor:'pointer',fontSize:'12px',whiteSpace:'nowrap'},children:\"Remove\"})]},participant.id||index))})}),/*#__PURE__*/_jsxs(\"div\",{style:{paddingTop:'20px',borderTop:'1px solid #e1e5e9'},children:[/*#__PURE__*/_jsx(\"h4\",{style:{margin:'0 0 15px 0',color:'#333',fontSize:'16px'},children:\"Add Participant\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleAddParticipant,style:{display:'flex',flexDirection:'column',gap:'10px'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',marginBottom:'5px',fontWeight:'500',fontSize:'14px'},children:\"Search Participants\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:searchTerm,onChange:e=>{setSearchTerm(e.target.value);// Reset selected participant if it's no longer in filtered list\nconst participantIds=programParticipants.map(p=>p.id);const filtered=allParticipants.filter(ap=>{var _ap$identificationNum,_ap$school;const isNotInProgram=!participantIds.includes(ap.id);const searchValue=e.target.value.toLowerCase();const matchesSearch=!searchValue||ap.name.toLowerCase().includes(searchValue)||((_ap$identificationNum=ap.identificationNumber)===null||_ap$identificationNum===void 0?void 0:_ap$identificationNum.toLowerCase().includes(searchValue))||((_ap$school=ap.school)===null||_ap$school===void 0?void 0:_ap$school.toLowerCase().includes(searchValue));return isNotInProgram&&matchesSearch;});if(addParticipantId&&!filtered.find(p=>p.id===addParticipantId)){setAddParticipantId('');}},placeholder:\"Search by name, ID number, or school...\",style:{width:'100%',padding:'8px 12px',border:'1px solid #ddd',borderRadius:'4px',fontSize:'14px',boxSizing:'border-box'}})]}),(()=>{const participantIds=programParticipants.map(p=>p.id);const searchLower=searchTerm.toLowerCase().trim();const filteredParticipants=allParticipants.filter(ap=>{// Only show active participants\nif(ap.isActive===false)return false;// Exclude participants already in program\nconst isNotInProgram=!participantIds.includes(ap.id);if(!isNotInProgram)return false;// Match search term if provided\nif(searchLower){var _ap$name,_ap$identificationNum2,_ap$school2;const nameMatch=(_ap$name=ap.name)===null||_ap$name===void 0?void 0:_ap$name.toLowerCase().includes(searchLower);const idMatch=(_ap$identificationNum2=ap.identificationNumber)===null||_ap$identificationNum2===void 0?void 0:_ap$identificationNum2.toLowerCase().includes(searchLower);const schoolMatch=(_ap$school2=ap.school)===null||_ap$school2===void 0?void 0:_ap$school2.toLowerCase().includes(searchLower);return nameMatch||idMatch||schoolMatch;}return true;});if(filteredParticipants.length>0){return/*#__PURE__*/_jsxs(\"select\",{value:addParticipantId,onChange:e=>setAddParticipantId(e.target.value),style:{width:'100%',padding:'8px 12px',border:'1px solid #ddd',borderRadius:'4px',fontSize:'14px',boxSizing:'border-box'},children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select a participant...\"}),filteredParticipants.map(ap=>/*#__PURE__*/_jsxs(\"option\",{value:ap.id,children:[ap.name,\" \",ap.identificationNumber&&\"(\".concat(ap.identificationNumber,\")\"),\" \",ap.school&&\"- \".concat(ap.school)]},ap.id))]},\"participant-select-\".concat(searchTerm,\"-\").concat(filteredParticipants.length));}else{return/*#__PURE__*/_jsx(\"div\",{style:{padding:'10px',background:'#f8f9fa',borderRadius:'4px',color:'#666',fontSize:'14px'},children:searchTerm?'No participants found matching your search.':'All participants are already in this program.'});}})(),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:!addParticipantId,style:{background:addParticipantId?'#28a745':'#6c757d',color:'white',border:'none',padding:'10px 20px',borderRadius:'5px',cursor:addParticipantId?'pointer':'not-allowed',fontSize:'14px',fontWeight:'500',opacity:addParticipantId?1:0.6},children:\"Add Participant\"})]})]})]})]})]});};export default ProgramsEdit;","map":{"version":3,"names":["React","useState","useEffect","useParams","useNavigate","useAuth","fetchProgramByName","updateProgram","fetchParticipants","addParticipant","removeParticipant","uploadImage","jsx","_jsx","jsxs","_jsxs","ProgramsEdit","name","navigate","user","formData","setFormData","description","location","startDate","endDate","loading","setLoading","error","setError","success","setSuccess","uploading","setUploading","allParticipants","setAllParticipants","programParticipants","setProgramParticipants","searchTerm","setSearchTerm","addParticipantId","setAddParticipantId","role","loadProgram","loadAllParticipants","response","p","data","program","seconds","Date","toISOString","split","slice","participantDetails","length","participants","participantPromises","map","pid","then","res","_res$data","find","id","catch","details","Promise","all","filter","err","_err$response","_err$response$data","_resp$data","resp","activeParticipants","isActive","handleInputChange","e","fieldName","value","target","prev","_objectSpread","handleSubmit","preventDefault","setTimeout","concat","encodeURIComponent","_err$response2","_err$response2$data","handleImageUpload","file","files","type","startsWith","FormData","append","uploadResponse","_err$response3","_err$response3$data","handleAddParticipant","participantId","_err$response4","_err$response4$data","handleRemoveParticipant","window","confirm","_err$response5","_err$response5$data","style","padding","textAlign","children","background","color","borderRadius","marginBottom","border","onClick","cursor","maxWidth","margin","display","justifyContent","alignItems","gridTemplateColumns","gap","borderBottom","paddingBottom","onSubmit","flexDirection","fontWeight","required","onChange","width","fontSize","boxSizing","rows","fontFamily","resize","flex","marginTop","accept","disabled","gridColumn","flexWrap","participant","index","position","school","whiteSpace","paddingTop","borderTop","participantIds","filtered","ap","_ap$identificationNum","_ap$school","isNotInProgram","includes","searchValue","toLowerCase","matchesSearch","identificationNumber","placeholder","searchLower","trim","filteredParticipants","_ap$name","_ap$identificationNum2","_ap$school2","nameMatch","idMatch","schoolMatch","opacity"],"sources":["/Users/sareena/HeartSmiles/heart-smiles-tracker/src/pages/ProgramsEdit.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { useAuth } from '../context/AuthContext';\nimport { fetchProgramByName, updateProgram, fetchParticipants, addParticipant, removeParticipant, uploadImage } from '../services/api';\n\nconst ProgramsEdit = () => {\n  const { name } = useParams();\n  const navigate = useNavigate();\n  const { user } = useAuth();\n\n  const [formData, setFormData] = useState({\n    name: '',\n    description: '',\n    location: '',\n    startDate: '',\n    endDate: '',\n  });\n\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const [success, setSuccess] = useState('');\n  const [uploading, setUploading] = useState(false);\n  const [allParticipants, setAllParticipants] = useState([]);\n  const [programParticipants, setProgramParticipants] = useState([]);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [addParticipantId, setAddParticipantId] = useState('');\n\n  useEffect(() => {\n    if (user?.role !== 'heartSmiles') {\n      navigate('/programs');\n      return;\n    }\n    loadProgram();\n    loadAllParticipants();\n    // eslint-disable-next-line\n  }, [name, user]);\n\n  const loadProgram = async () => {\n    try {\n      setLoading(true);\n      setError('');\n      const response = await fetchProgramByName(name);\n      const p = response.data.program;\n      setFormData({\n        name: p.name || '',\n        description: p.description || '',\n        location: p.location || '',\n        startDate: p.startDate ? (p.startDate.seconds ? new Date(p.startDate.seconds * 1000).toISOString().split('T')[0] : p.startDate.slice(0, 10)) : '',\n        endDate: p.endDate ? (p.endDate.seconds ? new Date(p.endDate.seconds * 1000).toISOString().split('T')[0] : p.endDate.slice(0, 10)) : '',\n      });\n      \n      // Set program participants\n      if (p.participantDetails && p.participantDetails.length > 0) {\n        setProgramParticipants(p.participantDetails);\n      } else if (p.participants && p.participants.length > 0) {\n        // If participantDetails not available, fetch them\n        const participantPromises = p.participants.map(pid => \n          fetchParticipants().then(res => {\n            const participants = res.data?.participants || res.data || [];\n            return participants.find(p => p.id === pid);\n          }).catch(() => null)\n        );\n        const details = await Promise.all(participantPromises);\n        setProgramParticipants(details.filter(p => p !== null));\n      }\n    } catch (err) {\n      setError(err?.response?.data?.error || 'Failed to load program');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const loadAllParticipants = async () => {\n    try {\n      const resp = await fetchParticipants();\n      const allParticipants = resp.data?.participants || resp.data || [];\n      // Filter out inactive participants\n      const activeParticipants = allParticipants.filter(p => p.isActive !== false);\n      setAllParticipants(activeParticipants);\n    } catch (err) {\n      // not fatal\n    }\n  };\n\n  const handleInputChange = (e) => {\n    const { name: fieldName, value } = e.target;\n    setFormData((prev) => ({\n      ...prev,\n      [fieldName]: value\n    }));\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setError('');\n    setSuccess('');\n    try {\n      await updateProgram(name, formData);\n      setSuccess('Program updated successfully!');\n      setTimeout(() => {\n        setSuccess('');\n        navigate(`/programs/${encodeURIComponent(name)}`);\n      }, 1200);\n    } catch (err) {\n      setError(err?.response?.data?.error || 'Failed to update program');\n    }\n  };\n\n  const handleImageUpload = async (e) => {\n    const file = e.target.files[0];\n    if (!file) return;\n\n    if (!file.type.startsWith('image/')) {\n      setError('Please select an image file');\n      return;\n    }\n\n    try {\n      setUploading(true);\n      setError('');\n      \n      const formData = new FormData();\n      formData.append('image', file);\n      formData.append('type', 'program');\n      formData.append('folder', 'heart-smiles/programs');\n\n      const uploadResponse = await uploadImage(formData);\n      // For now, we'll just show success. Photo storage for programs can be added later.\n      setSuccess('Photo uploaded successfully!');\n      setTimeout(() => setSuccess(''), 3000);\n    } catch (err) {\n      setError(err?.response?.data?.error || 'Failed to upload image');\n    } finally {\n      setUploading(false);\n      e.target.value = '';\n    }\n  };\n\n  const handleAddParticipant = async (e) => {\n    e.preventDefault();\n    if (!addParticipantId) return;\n    try {\n      setError('');\n      await addParticipant(name, { participantId: addParticipantId });\n      setSuccess('Participant added!');\n      setAddParticipantId('');\n      setSearchTerm('');\n      await loadProgram();\n      setTimeout(() => setSuccess(''), 3000);\n    } catch (err) {\n      setError(err?.response?.data?.error || 'Failed to add participant');\n    }\n  };\n\n  const handleRemoveParticipant = async (participantId) => {\n    if (!window.confirm('Are you sure you want to remove this participant from the program?')) return;\n    try {\n      setError('');\n      await removeParticipant(name, participantId);\n      setSuccess('Participant removed!');\n      await loadProgram();\n      setTimeout(() => setSuccess(''), 3000);\n    } catch (err) {\n      setError(err?.response?.data?.error || 'Failed to remove participant');\n    }\n  };\n\n  if (loading) {\n    return (\n      <div style={{ padding: '20px', textAlign: 'center' }}>\n        <h2>Loading Program...</h2>\n      </div>\n    );\n  }\n\n  if (error && !formData.name) {\n    return (\n      <div style={{ padding: '20px' }}>\n        <div style={{\n          background: '#f8d7da',\n          color: '#721c24',\n          padding: '12px 20px',\n          borderRadius: '6px',\n          marginBottom: '20px',\n          border: '1px solid #f5c6cb'\n        }}>\n          {error}\n        </div>\n        <button\n          onClick={() => navigate('/programs')}\n          style={{\n            background: '#6c757d',\n            color: 'white',\n            border: 'none',\n            padding: '10px 20px',\n            borderRadius: '5px',\n            cursor: 'pointer'\n          }}\n        >\n          ← Back to Programs\n        </button>\n      </div>\n    );\n  }\n\n  return (\n    <div style={{ padding: '20px', maxWidth: 900, margin: '0 auto' }}>\n      {success && (\n        <div style={{\n          background: '#d4edda',\n          color: '#155724',\n          padding: '12px 20px',\n          borderRadius: '6px',\n          marginBottom: '20px',\n          border: '1px solid #c3e6cb'\n        }}>\n          ✅ {success}\n        </div>\n      )}\n      {error && (\n        <div style={{\n          background: '#f8d7da',\n          color: '#721c24',\n          padding: '12px 20px',\n          borderRadius: '6px',\n          marginBottom: '20px',\n          border: '1px solid #f5c6cb'\n        }}>\n          ❌ {error}\n        </div>\n      )}\n      <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: 32 }}>\n        <h1 style={{ margin: 0 }}>Edit Program</h1>\n        <button\n          onClick={() => navigate(`/programs/${encodeURIComponent(name)}`)}\n          style={{\n            background: '#6c757d',\n            color: 'white',\n            border: 'none',\n            padding: '10px 20px',\n            borderRadius: '5px',\n            cursor: 'pointer'\n          }}\n        >\n          ← Cancel\n        </button>\n      </div>\n\n      <div style={{\n        display: 'grid',\n        gridTemplateColumns: 'repeat(auto-fit, minmax(400px, 1fr))',\n        gap: '20px'\n      }}>\n        {/* Program Details Form */}\n        <div style={{\n          background: 'white',\n          border: '1px solid #e1e5e9',\n          borderRadius: '8px',\n          padding: '20px'\n        }}>\n          <h3 style={{ margin: '0 0 20px 0', color: '#333', borderBottom: '2px solid #667eea', paddingBottom: '10px' }}>\n            Program Details\n          </h3>\n          <form onSubmit={handleSubmit}>\n            <div style={{ display: 'flex', flexDirection: 'column', gap: '16px' }}>\n              <div>\n                <label style={{ fontWeight: '500', display: 'block', marginBottom: '6px' }}>\n                  Program Name *\n                </label>\n                <input\n                  type=\"text\"\n                  name=\"name\"\n                  value={formData.name}\n                  required\n                  onChange={handleInputChange}\n                  style={{\n                    width: '100%',\n                    padding: '8px 12px',\n                    border: '1px solid #ddd',\n                    borderRadius: '4px',\n                    fontSize: '14px',\n                    boxSizing: 'border-box'\n                  }}\n                />\n              </div>\n              <div>\n                <label style={{ fontWeight: '500', display: 'block', marginBottom: '6px' }}>\n                  Description *\n                </label>\n                <textarea\n                  name=\"description\"\n                  value={formData.description}\n                  required\n                  onChange={handleInputChange}\n                  rows={4}\n                  style={{\n                    width: '100%',\n                    padding: '8px 12px',\n                    border: '1px solid #ddd',\n                    borderRadius: '4px',\n                    fontSize: '14px',\n                    fontFamily: 'inherit',\n                    resize: 'vertical',\n                    boxSizing: 'border-box'\n                  }}\n                />\n              </div>\n              <div>\n                <label style={{ fontWeight: '500', display: 'block', marginBottom: '6px' }}>\n                  Location\n                </label>\n                <input\n                  type=\"text\"\n                  name=\"location\"\n                  value={formData.location}\n                  onChange={handleInputChange}\n                  style={{\n                    width: '100%',\n                    padding: '8px 12px',\n                    border: '1px solid #ddd',\n                    borderRadius: '4px',\n                    fontSize: '14px',\n                    boxSizing: 'border-box'\n                  }}\n                />\n              </div>\n              <div style={{ display: 'flex', gap: '16px' }}>\n                <div style={{ flex: 1 }}>\n                  <label style={{ fontWeight: '500', display: 'block', marginBottom: '6px' }}>\n                    Start Date\n                  </label>\n                  <input\n                    type=\"date\"\n                    name=\"startDate\"\n                    value={formData.startDate}\n                    onChange={handleInputChange}\n                    style={{\n                      width: '100%',\n                      padding: '8px 12px',\n                      border: '1px solid #ddd',\n                      borderRadius: '4px',\n                      fontSize: '14px',\n                      boxSizing: 'border-box'\n                    }}\n                  />\n                </div>\n                <div style={{ flex: 1 }}>\n                  <label style={{ fontWeight: '500', display: 'block', marginBottom: '6px' }}>\n                    End Date\n                  </label>\n                  <input\n                    type=\"date\"\n                    name=\"endDate\"\n                    value={formData.endDate}\n                    onChange={handleInputChange}\n                    style={{\n                      width: '100%',\n                      padding: '8px 12px',\n                      border: '1px solid #ddd',\n                      borderRadius: '4px',\n                      fontSize: '14px',\n                      boxSizing: 'border-box'\n                    }}\n                  />\n                </div>\n              </div>\n            </div>\n            <button\n              type=\"submit\"\n              style={{\n                background: '#28a745',\n                color: 'white',\n                border: 'none',\n                padding: '10px 24px',\n                borderRadius: '5px',\n                cursor: 'pointer',\n                marginTop: 24,\n                fontSize: 16,\n                fontWeight: '500'\n              }}\n            >\n              Save Changes\n            </button>\n          </form>\n        </div>\n\n        {/* Photo Upload Section */}\n        <div style={{\n          background: 'white',\n          border: '1px solid #e1e5e9',\n          borderRadius: '8px',\n          padding: '20px'\n        }}>\n          <h3 style={{ margin: '0 0 20px 0', color: '#333', borderBottom: '2px solid #667eea', paddingBottom: '10px' }}>\n            Program Photos\n          </h3>\n          <div style={{ marginBottom: '20px' }}>\n            <label style={{ fontWeight: '500', display: 'block', marginBottom: '8px' }}>\n              Upload Photo\n            </label>\n            <input\n              type=\"file\"\n              accept=\"image/*\"\n              onChange={handleImageUpload}\n              disabled={uploading}\n              style={{\n                width: '100%',\n                padding: '8px 12px',\n                border: '1px solid #ddd',\n                borderRadius: '4px',\n                fontSize: '14px',\n                boxSizing: 'border-box'\n              }}\n            />\n            <p style={{ fontSize: '12px', color: '#666', margin: '5px 0 0 0' }}>\n              Maximum file size: 10MB. Supported formats: JPG, PNG, GIF\n            </p>\n            {uploading && (\n              <div style={{\n                background: '#e7f3ff',\n                padding: '10px',\n                borderRadius: '4px',\n                textAlign: 'center',\n                color: '#0066cc',\n                marginTop: '10px'\n              }}>\n                Uploading image...\n              </div>\n            )}\n          </div>\n        </div>\n\n        {/* Participants Section */}\n        <div style={{\n          background: 'white',\n          border: '1px solid #e1e5e9',\n          borderRadius: '8px',\n          padding: '20px',\n          gridColumn: '1 / -1'\n        }}>\n          <h3 style={{ margin: '0 0 20px 0', color: '#333', borderBottom: '2px solid #667eea', paddingBottom: '10px' }}>\n            Participants ({programParticipants.length})\n          </h3>\n          \n          {programParticipants.length > 0 && (\n            <div style={{ marginBottom: '20px' }}>\n              <div style={{ display: 'flex', flexWrap: 'wrap', gap: '10px' }}>\n                {programParticipants.map((participant, index) => (\n                  <div\n                    key={participant.id || index}\n                    style={{\n                      background: '#f8f9fa',\n                      padding: '10px 15px',\n                      borderRadius: '6px',\n                      border: '1px solid #e1e5e9',\n                      display: 'flex',\n                      alignItems: 'center',\n                      gap: '12px',\n                      position: 'relative',\n                      flex: '1 1 250px'\n                    }}\n                  >\n                    <div style={{ flex: 1 }}>\n                      <div style={{ fontWeight: '500', color: '#333' }}>\n                        {participant.name}\n                      </div>\n                      {participant.school && (\n                        <div style={{ fontSize: '12px', color: '#666', marginTop: '3px' }}>\n                          {participant.school}\n                        </div>\n                      )}\n                    </div>\n                    <button\n                      onClick={() => handleRemoveParticipant(participant.id)}\n                      style={{\n                        background: '#dc3545',\n                        color: 'white',\n                        border: 'none',\n                        padding: '4px 10px',\n                        borderRadius: '4px',\n                        cursor: 'pointer',\n                        fontSize: '12px',\n                        whiteSpace: 'nowrap'\n                      }}\n                    >\n                      Remove\n                    </button>\n                  </div>\n                ))}\n              </div>\n            </div>\n          )}\n\n          <div style={{ paddingTop: '20px', borderTop: '1px solid #e1e5e9' }}>\n            <h4 style={{ margin: '0 0 15px 0', color: '#333', fontSize: '16px' }}>\n              Add Participant\n            </h4>\n            <form onSubmit={handleAddParticipant} style={{ display: 'flex', flexDirection: 'column', gap: '10px' }}>\n              <div>\n                <label style={{ display: 'block', marginBottom: '5px', fontWeight: '500', fontSize: '14px' }}>\n                  Search Participants\n                </label>\n                <input\n                  type=\"text\"\n                  value={searchTerm}\n                  onChange={(e) => {\n                    setSearchTerm(e.target.value);\n                    // Reset selected participant if it's no longer in filtered list\n                    const participantIds = programParticipants.map(p => p.id);\n                    const filtered = allParticipants.filter(ap => {\n                      const isNotInProgram = !participantIds.includes(ap.id);\n                      const searchValue = e.target.value.toLowerCase();\n                      const matchesSearch = !searchValue || \n                        ap.name.toLowerCase().includes(searchValue) ||\n                        ap.identificationNumber?.toLowerCase().includes(searchValue) ||\n                        ap.school?.toLowerCase().includes(searchValue);\n                      return isNotInProgram && matchesSearch;\n                    });\n                    if (addParticipantId && !filtered.find(p => p.id === addParticipantId)) {\n                      setAddParticipantId('');\n                    }\n                  }}\n                  placeholder=\"Search by name, ID number, or school...\"\n                  style={{\n                    width: '100%',\n                    padding: '8px 12px',\n                    border: '1px solid #ddd',\n                    borderRadius: '4px',\n                    fontSize: '14px',\n                    boxSizing: 'border-box'\n                  }}\n                />\n              </div>\n              {(() => {\n                const participantIds = programParticipants.map(p => p.id);\n                const searchLower = searchTerm.toLowerCase().trim();\n                const filteredParticipants = allParticipants.filter(ap => {\n                  // Only show active participants\n                  if (ap.isActive === false) return false;\n                  // Exclude participants already in program\n                  const isNotInProgram = !participantIds.includes(ap.id);\n                  if (!isNotInProgram) return false;\n                  // Match search term if provided\n                  if (searchLower) {\n                    const nameMatch = ap.name?.toLowerCase().includes(searchLower);\n                    const idMatch = ap.identificationNumber?.toLowerCase().includes(searchLower);\n                    const schoolMatch = ap.school?.toLowerCase().includes(searchLower);\n                    return nameMatch || idMatch || schoolMatch;\n                  }\n                  return true;\n                });\n                \n                if (filteredParticipants.length > 0) {\n                  return (\n                    <select\n                      key={`participant-select-${searchTerm}-${filteredParticipants.length}`}\n                      value={addParticipantId}\n                      onChange={e => setAddParticipantId(e.target.value)}\n                      style={{\n                        width: '100%',\n                        padding: '8px 12px',\n                        border: '1px solid #ddd',\n                        borderRadius: '4px',\n                        fontSize: '14px',\n                        boxSizing: 'border-box'\n                      }}\n                    >\n                      <option value=\"\">Select a participant...</option>\n                      {filteredParticipants.map(ap => (\n                        <option key={ap.id} value={ap.id}>\n                          {ap.name} {ap.identificationNumber && `(${ap.identificationNumber})`} {ap.school && `- ${ap.school}`}\n                        </option>\n                      ))}\n                    </select>\n                  );\n                } else {\n                  return (\n                    <div style={{ padding: '10px', background: '#f8f9fa', borderRadius: '4px', color: '#666', fontSize: '14px' }}>\n                      {searchTerm ? 'No participants found matching your search.' : 'All participants are already in this program.'}\n                    </div>\n                  );\n                }\n              })()}\n              <button\n                type=\"submit\"\n                disabled={!addParticipantId}\n                style={{\n                  background: addParticipantId ? '#28a745' : '#6c757d',\n                  color: 'white',\n                  border: 'none',\n                  padding: '10px 20px',\n                  borderRadius: '5px',\n                  cursor: addParticipantId ? 'pointer' : 'not-allowed',\n                  fontSize: '14px',\n                  fontWeight: '500',\n                  opacity: addParticipantId ? 1 : 0.6\n                }}\n              >\n                Add Participant\n              </button>\n            </form>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ProgramsEdit;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}