{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useAuth}from'../context/AuthContext';import{exportParticipantsCsv,fetchParticipants}from'../services/api';import api from'../services/api';import jsPDF from'jspdf';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Export=()=>{const{user}=useAuth();const[loading,setLoading]=useState(false);const[exportType,setExportType]=useState('participants');const[success,setSuccess]=useState(false);const[error,setError]=useState('');// PDF export state\nconst[allParticipants,setAllParticipants]=useState([]);const[selectedParticipants,setSelectedParticipants]=useState([]);const[searchTerm,setSearchTerm]=useState('');const[showPdfExport,setShowPdfExport]=useState(false);const[pdfLoading,setPdfLoading]=useState(false);useEffect(()=>{if(showPdfExport){loadParticipants();}},[showPdfExport]);const loadParticipants=async()=>{try{var _response$data;const response=await fetchParticipants();const participants=((_response$data=response.data)===null||_response$data===void 0?void 0:_response$data.participants)||response.data||[];const activeParticipants=participants.filter(p=>p.isActive!==false);setAllParticipants(activeParticipants);}catch(err){console.error('Error loading participants:',err);setError('Failed to load participants');}};const handleExport=async()=>{try{setLoading(true);setError('');setSuccess(false);let response;let filename;if(exportType==='participants'){response=await exportParticipantsCsv();filename=\"participants_\".concat(new Date().toISOString().split('T')[0],\".csv\");}else if(exportType==='programs'){response=await api.get('/export/programs',{responseType:'blob'});filename=\"programs_\".concat(new Date().toISOString().split('T')[0],\".csv\");}else{response=await api.get('/export/combined',{responseType:'blob'});filename=\"combined_data_\".concat(new Date().toISOString().split('T')[0],\".csv\");}// Create download link\nconst url=window.URL.createObjectURL(new Blob([response.data],{type:'text/csv'}));const a=document.createElement('a');a.href=url;a.download=filename;document.body.appendChild(a);a.click();document.body.removeChild(a);window.URL.revokeObjectURL(url);setSuccess(true);setTimeout(()=>setSuccess(false),3000);}catch(err){var _err$response,_err$response$data;console.error('Export error:',err);setError((err===null||err===void 0?void 0:(_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.error)||'Export failed. Please try again.');}finally{setLoading(false);}};// Helper function to convert image URL to base64\nconst imageToBase64=url=>{return new Promise((resolve,reject)=>{const img=new Image();img.crossOrigin='anonymous';img.onload=()=>{const canvas=document.createElement('canvas');canvas.width=img.width;canvas.height=img.height;const ctx=canvas.getContext('2d');ctx.drawImage(img,0,0);try{const base64=canvas.toDataURL('image/jpeg',0.8);resolve(base64);}catch(e){reject(e);}};img.onerror=()=>{// If image fails to load, return null\nresolve(null);};img.src=url;});};const handlePdfExport=async()=>{if(selectedParticipants.length===0){setError('Please select at least one participant');return;}try{setPdfLoading(true);setError('');setSuccess(false);const pdf=new jsPDF('portrait','mm','a4');const pageWidth=pdf.internal.pageSize.getWidth();const pageHeight=pdf.internal.pageSize.getHeight();const margin=15;const contentWidth=pageWidth-margin*2;const participantWidth=(contentWidth-10)/2;// Two participants per row, 10mm gap\nconst participantHeight=80;// Height for each participant card\nlet currentY=margin;let participantIndex=0;while(participantIndex<selectedParticipants.length){// Check if we need a new page\nif(currentY+participantHeight>pageHeight-margin){pdf.addPage();currentY=margin;}// Process two participants per row\nfor(let col=0;col<2&&participantIndex<selectedParticipants.length;col++){var _participant$headshot;const participant=selectedParticipants[participantIndex];const x=margin+col*(participantWidth+10);// Get participant data\nconst name=participant.name||'N/A';const address=participant.address||'N/A';const idNumber=participant.identificationNumber||'N/A';const photoUrl=((_participant$headshot=participant.headshotPictureUrl)===null||_participant$headshot===void 0?void 0:_participant$headshot.url)||participant.headshotPictureUrl||null;// Draw border for participant card\npdf.setDrawColor(200,200,200);pdf.setLineWidth(0.5);pdf.rect(x,currentY,participantWidth,participantHeight);// Add profile photo\nif(photoUrl){try{const base64Image=await imageToBase64(photoUrl);if(base64Image){const imgWidth=30;const imgHeight=30;pdf.addImage(base64Image,'JPEG',x+5,currentY+5,imgWidth,imgHeight);}}catch(e){console.error('Error loading image:',e);}}// Add participant information\nconst textX=photoUrl?x+40:x+5;let textY=currentY+10;// Name\npdf.setFontSize(12);pdf.setFont(undefined,'bold');pdf.text(name,textX,textY);textY+=7;// ID Number\npdf.setFontSize(10);pdf.setFont(undefined,'normal');pdf.text(\"ID: \".concat(idNumber),textX,textY);textY+=6;// Address (may need to wrap)\npdf.setFontSize(9);const addressLines=pdf.splitTextToSize(\"Address: \".concat(address),participantWidth-45);pdf.text(addressLines,textX,textY);participantIndex++;}// Move to next row\ncurrentY+=participantHeight+5;}// Save PDF\nconst filename=\"participants_export_\".concat(new Date().toISOString().split('T')[0],\".pdf\");pdf.save(filename);setSuccess(\"PDF exported successfully with \".concat(selectedParticipants.length,\" participant(s)!\"));setTimeout(()=>setSuccess(''),3000);setSelectedParticipants([]);setSearchTerm('');}catch(err){console.error('PDF export error:',err);setError('Failed to generate PDF. Please try again.');}finally{setPdfLoading(false);}};const filteredParticipants=allParticipants.filter(p=>{var _p$name,_p$identificationNumb,_p$address;const searchLower=searchTerm.toLowerCase();return((_p$name=p.name)===null||_p$name===void 0?void 0:_p$name.toLowerCase().includes(searchLower))||((_p$identificationNumb=p.identificationNumber)===null||_p$identificationNumb===void 0?void 0:_p$identificationNumb.toLowerCase().includes(searchLower))||((_p$address=p.address)===null||_p$address===void 0?void 0:_p$address.toLowerCase().includes(searchLower));});const toggleParticipantSelection=participant=>{const isSelected=selectedParticipants.some(p=>p.id===participant.id);if(isSelected){setSelectedParticipants(selectedParticipants.filter(p=>p.id!==participant.id));}else{setSelectedParticipants([...selectedParticipants,participant]);}};return/*#__PURE__*/_jsxs(\"div\",{style:{padding:'20px'},children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Export Data\"}),/*#__PURE__*/_jsx(\"p\",{style:{color:'#666',marginBottom:'30px'},children:\"Export participant and program data to CSV format for Qualtrics upload and reporting, or export selected participants as PDF.\"}),/*#__PURE__*/_jsxs(\"div\",{style:{background:'white',border:'1px solid #e1e5e9',borderRadius:'8px',padding:'30px',maxWidth:'600px'},children:[/*#__PURE__*/_jsx(\"h3\",{style:{margin:'0 0 20px 0'},children:\"Export Options\"}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'20px'},children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',marginBottom:'8px',fontWeight:'500'},children:\"Export Type\"}),/*#__PURE__*/_jsxs(\"select\",{value:exportType,onChange:e=>setExportType(e.target.value),style:{width:'100%',padding:'8px 12px',border:'1px solid #ddd',borderRadius:'4px',fontSize:'14px'},children:[/*#__PURE__*/_jsx(\"option\",{value:\"participants\",children:\"Participants Only\"}),/*#__PURE__*/_jsx(\"option\",{value:\"programs\",children:\"Programs Only\"}),/*#__PURE__*/_jsx(\"option\",{value:\"combined\",children:\"Combined Data\"})]}),/*#__PURE__*/_jsxs(\"p\",{style:{fontSize:'12px',color:'#666',margin:'5px 0 0 0'},children:[exportType==='participants'&&'Export all participant data (excluding images)',exportType==='programs'&&'Export all program data',exportType==='combined'&&'Export participants and programs in a combined format']})]}),error&&/*#__PURE__*/_jsx(\"div\",{style:{background:'#f8d7da',color:'#721c24',padding:'10px 15px',borderRadius:'4px',marginBottom:'20px',border:'1px solid #f5c6cb'},children:error}),success&&/*#__PURE__*/_jsx(\"div\",{style:{background:'#d4edda',color:'#155724',padding:'10px 15px',borderRadius:'4px',marginBottom:'20px',border:'1px solid #c3e6cb'},children:\"\\u2705 Export completed successfully! File downloaded.\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleExport,disabled:loading,style:{background:loading?'#6c757d':'#28a745',color:'white',border:'none',padding:'12px 24px',borderRadius:'5px',cursor:loading?'not-allowed':'pointer',fontSize:'16px',fontWeight:'500',width:'100%',opacity:loading?0.6:1},children:loading?'Exporting...':\"Export \".concat(exportType.charAt(0).toUpperCase()+exportType.slice(1))}),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'30px',padding:'15px',background:'#f8f9fa',borderRadius:'4px',fontSize:'13px',color:'#666'},children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Note:\"}),\" The exported CSV file is formatted for Qualtrics upload. Images are excluded from the export. The file will be named with today's date for easy organization.\"]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{background:'white',border:'1px solid #e1e5e9',borderRadius:'8px',padding:'30px',maxWidth:'800px',marginTop:'30px'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center',marginBottom:'20px'},children:[/*#__PURE__*/_jsx(\"h3\",{style:{margin:'0'},children:\"Export Participants as PDF\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setShowPdfExport(!showPdfExport);if(!showPdfExport){setSelectedParticipants([]);setSearchTerm('');}},style:{background:showPdfExport?'#6c757d':'#667eea',color:'white',border:'none',padding:'8px 16px',borderRadius:'5px',cursor:'pointer',fontSize:'14px'},children:showPdfExport?'Hide':'Show PDF Export'})]}),showPdfExport&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{style:{color:'#666',marginBottom:'20px',fontSize:'14px'},children:\"Select participants to export as PDF. The PDF will include name, address, ID number, and profile photo, with two participants per page.\"}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'20px'},children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',marginBottom:'8px',fontWeight:'500'},children:\"Search Participants\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:searchTerm,onChange:e=>setSearchTerm(e.target.value),placeholder:\"Search by name, ID number, or address...\",style:{width:'100%',padding:'8px 12px',border:'1px solid #ddd',borderRadius:'4px',fontSize:'14px'}})]}),selectedParticipants.length>0&&/*#__PURE__*/_jsxs(\"div\",{style:{background:'#e7f3ff',padding:'10px 15px',borderRadius:'4px',marginBottom:'15px',fontSize:'14px',color:'#0066cc'},children:[/*#__PURE__*/_jsx(\"strong\",{children:selectedParticipants.length}),\" participant(s) selected\"]}),/*#__PURE__*/_jsx(\"div\",{style:{maxHeight:'400px',overflowY:'auto',border:'1px solid #e1e5e9',borderRadius:'4px',marginBottom:'20px'},children:filteredParticipants.length===0?/*#__PURE__*/_jsx(\"div\",{style:{padding:'20px',textAlign:'center',color:'#666'},children:searchTerm?'No participants found matching your search':'No participants available'}):filteredParticipants.map(participant=>{var _participant$headshot2;const isSelected=selectedParticipants.some(p=>p.id===participant.id);return/*#__PURE__*/_jsxs(\"div\",{onClick:()=>toggleParticipantSelection(participant),style:{padding:'12px 15px',borderBottom:'1px solid #e1e5e9',cursor:'pointer',background:isSelected?'#e7f3ff':'white',display:'flex',alignItems:'center',gap:'12px',transition:'background 0.2s'},onMouseEnter:e=>{if(!isSelected)e.currentTarget.style.background='#f8f9fa';},onMouseLeave:e=>{if(!isSelected)e.currentTarget.style.background='white';},children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:isSelected,onChange:()=>toggleParticipantSelection(participant),onClick:e=>e.stopPropagation(),style:{cursor:'pointer'}}),participant.headshotPictureUrl&&/*#__PURE__*/_jsx(\"img\",{src:((_participant$headshot2=participant.headshotPictureUrl)===null||_participant$headshot2===void 0?void 0:_participant$headshot2.url)||participant.headshotPictureUrl,alt:participant.name,style:{width:'40px',height:'40px',borderRadius:'50%',objectFit:'cover',border:'2px solid #e1e5e9'}}),/*#__PURE__*/_jsxs(\"div\",{style:{flex:1},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontWeight:'500',color:'#333'},children:participant.name}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'12px',color:'#666',marginTop:'2px'},children:[\"ID: \",participant.identificationNumber||'N/A',participant.address&&\" \\u2022 \".concat(participant.address)]})]})]},participant.id);})}),/*#__PURE__*/_jsx(\"button\",{onClick:handlePdfExport,disabled:pdfLoading||selectedParticipants.length===0,style:{background:pdfLoading||selectedParticipants.length===0?'#6c757d':'#dc3545',color:'white',border:'none',padding:'12px 24px',borderRadius:'5px',cursor:pdfLoading||selectedParticipants.length===0?'not-allowed':'pointer',fontSize:'16px',fontWeight:'500',width:'100%',opacity:pdfLoading||selectedParticipants.length===0?0.6:1},children:pdfLoading?'Generating PDF...':\"Export \".concat(selectedParticipants.length,\" Participant(s) as PDF\")}),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'20px',padding:'15px',background:'#f8f9fa',borderRadius:'4px',fontSize:'13px',color:'#666'},children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Note:\"}),\" The PDF will include two participants per page with their profile photos, names, addresses, and ID numbers.\"]})]})]})]});};export default Export;","map":{"version":3,"names":["React","useState","useEffect","useAuth","exportParticipantsCsv","fetchParticipants","api","jsPDF","jsx","_jsx","jsxs","_jsxs","Export","user","loading","setLoading","exportType","setExportType","success","setSuccess","error","setError","allParticipants","setAllParticipants","selectedParticipants","setSelectedParticipants","searchTerm","setSearchTerm","showPdfExport","setShowPdfExport","pdfLoading","setPdfLoading","loadParticipants","_response$data","response","participants","data","activeParticipants","filter","p","isActive","err","console","handleExport","filename","concat","Date","toISOString","split","get","responseType","url","window","URL","createObjectURL","Blob","type","a","document","createElement","href","download","body","appendChild","click","removeChild","revokeObjectURL","setTimeout","_err$response","_err$response$data","imageToBase64","Promise","resolve","reject","img","Image","crossOrigin","onload","canvas","width","height","ctx","getContext","drawImage","base64","toDataURL","e","onerror","src","handlePdfExport","length","pdf","pageWidth","internal","pageSize","getWidth","pageHeight","getHeight","margin","contentWidth","participantWidth","participantHeight","currentY","participantIndex","addPage","col","_participant$headshot","participant","x","name","address","idNumber","identificationNumber","photoUrl","headshotPictureUrl","setDrawColor","setLineWidth","rect","base64Image","imgWidth","imgHeight","addImage","textX","textY","setFontSize","setFont","undefined","text","addressLines","splitTextToSize","save","filteredParticipants","_p$name","_p$identificationNumb","_p$address","searchLower","toLowerCase","includes","toggleParticipantSelection","isSelected","some","id","style","padding","children","color","marginBottom","background","border","borderRadius","maxWidth","display","fontWeight","value","onChange","target","fontSize","onClick","disabled","cursor","opacity","charAt","toUpperCase","slice","marginTop","justifyContent","alignItems","placeholder","maxHeight","overflowY","textAlign","map","_participant$headshot2","borderBottom","gap","transition","onMouseEnter","currentTarget","onMouseLeave","checked","stopPropagation","alt","objectFit","flex"],"sources":["/Users/sareena/HeartSmiles/heart-smiles-tracker/src/pages/Export.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useAuth } from '../context/AuthContext';\nimport { exportParticipantsCsv, fetchParticipants } from '../services/api';\nimport api from '../services/api';\nimport jsPDF from 'jspdf';\n\nconst Export = () => {\n  const { user } = useAuth();\n  const [loading, setLoading] = useState(false);\n  const [exportType, setExportType] = useState('participants');\n  const [success, setSuccess] = useState(false);\n  const [error, setError] = useState('');\n  \n  // PDF export state\n  const [allParticipants, setAllParticipants] = useState([]);\n  const [selectedParticipants, setSelectedParticipants] = useState([]);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [showPdfExport, setShowPdfExport] = useState(false);\n  const [pdfLoading, setPdfLoading] = useState(false);\n\n  useEffect(() => {\n    if (showPdfExport) {\n      loadParticipants();\n    }\n  }, [showPdfExport]);\n\n  const loadParticipants = async () => {\n    try {\n      const response = await fetchParticipants();\n      const participants = response.data?.participants || response.data || [];\n      const activeParticipants = participants.filter(p => p.isActive !== false);\n      setAllParticipants(activeParticipants);\n    } catch (err) {\n      console.error('Error loading participants:', err);\n      setError('Failed to load participants');\n    }\n  };\n\n  const handleExport = async () => {\n    try {\n      setLoading(true);\n      setError('');\n      setSuccess(false);\n\n      let response;\n      let filename;\n\n      if (exportType === 'participants') {\n        response = await exportParticipantsCsv();\n        filename = `participants_${new Date().toISOString().split('T')[0]}.csv`;\n      } else if (exportType === 'programs') {\n        response = await api.get('/export/programs', { responseType: 'blob' });\n        filename = `programs_${new Date().toISOString().split('T')[0]}.csv`;\n      } else {\n        response = await api.get('/export/combined', { responseType: 'blob' });\n        filename = `combined_data_${new Date().toISOString().split('T')[0]}.csv`;\n      }\n\n      // Create download link\n      const url = window.URL.createObjectURL(new Blob([response.data], { type: 'text/csv' }));\n      const a = document.createElement('a');\n      a.href = url;\n      a.download = filename;\n      document.body.appendChild(a);\n      a.click();\n      document.body.removeChild(a);\n      window.URL.revokeObjectURL(url);\n\n      setSuccess(true);\n      setTimeout(() => setSuccess(false), 3000);\n    } catch (err) {\n      console.error('Export error:', err);\n      setError(err?.response?.data?.error || 'Export failed. Please try again.');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Helper function to convert image URL to base64\n  const imageToBase64 = (url) => {\n    return new Promise((resolve, reject) => {\n      const img = new Image();\n      img.crossOrigin = 'anonymous';\n      img.onload = () => {\n        const canvas = document.createElement('canvas');\n        canvas.width = img.width;\n        canvas.height = img.height;\n        const ctx = canvas.getContext('2d');\n        ctx.drawImage(img, 0, 0);\n        try {\n          const base64 = canvas.toDataURL('image/jpeg', 0.8);\n          resolve(base64);\n        } catch (e) {\n          reject(e);\n        }\n      };\n      img.onerror = () => {\n        // If image fails to load, return null\n        resolve(null);\n      };\n      img.src = url;\n    });\n  };\n\n  const handlePdfExport = async () => {\n    if (selectedParticipants.length === 0) {\n      setError('Please select at least one participant');\n      return;\n    }\n\n    try {\n      setPdfLoading(true);\n      setError('');\n      setSuccess(false);\n\n      const pdf = new jsPDF('portrait', 'mm', 'a4');\n      const pageWidth = pdf.internal.pageSize.getWidth();\n      const pageHeight = pdf.internal.pageSize.getHeight();\n      const margin = 15;\n      const contentWidth = pageWidth - (margin * 2);\n      const participantWidth = (contentWidth - 10) / 2; // Two participants per row, 10mm gap\n      const participantHeight = 80; // Height for each participant card\n\n      let currentY = margin;\n      let participantIndex = 0;\n\n      while (participantIndex < selectedParticipants.length) {\n        // Check if we need a new page\n        if (currentY + participantHeight > pageHeight - margin) {\n          pdf.addPage();\n          currentY = margin;\n        }\n\n        // Process two participants per row\n        for (let col = 0; col < 2 && participantIndex < selectedParticipants.length; col++) {\n          const participant = selectedParticipants[participantIndex];\n          const x = margin + (col * (participantWidth + 10));\n\n          // Get participant data\n          const name = participant.name || 'N/A';\n          const address = participant.address || 'N/A';\n          const idNumber = participant.identificationNumber || 'N/A';\n          const photoUrl = participant.headshotPictureUrl?.url || participant.headshotPictureUrl || null;\n\n          // Draw border for participant card\n          pdf.setDrawColor(200, 200, 200);\n          pdf.setLineWidth(0.5);\n          pdf.rect(x, currentY, participantWidth, participantHeight);\n\n          // Add profile photo\n          if (photoUrl) {\n            try {\n              const base64Image = await imageToBase64(photoUrl);\n              if (base64Image) {\n                const imgWidth = 30;\n                const imgHeight = 30;\n                pdf.addImage(base64Image, 'JPEG', x + 5, currentY + 5, imgWidth, imgHeight);\n              }\n            } catch (e) {\n              console.error('Error loading image:', e);\n            }\n          }\n\n          // Add participant information\n          const textX = photoUrl ? x + 40 : x + 5;\n          let textY = currentY + 10;\n\n          // Name\n          pdf.setFontSize(12);\n          pdf.setFont(undefined, 'bold');\n          pdf.text(name, textX, textY);\n          textY += 7;\n\n          // ID Number\n          pdf.setFontSize(10);\n          pdf.setFont(undefined, 'normal');\n          pdf.text(`ID: ${idNumber}`, textX, textY);\n          textY += 6;\n\n          // Address (may need to wrap)\n          pdf.setFontSize(9);\n          const addressLines = pdf.splitTextToSize(`Address: ${address}`, participantWidth - 45);\n          pdf.text(addressLines, textX, textY);\n\n          participantIndex++;\n        }\n\n        // Move to next row\n        currentY += participantHeight + 5;\n      }\n\n      // Save PDF\n      const filename = `participants_export_${new Date().toISOString().split('T')[0]}.pdf`;\n      pdf.save(filename);\n\n      setSuccess(`PDF exported successfully with ${selectedParticipants.length} participant(s)!`);\n      setTimeout(() => setSuccess(''), 3000);\n      setSelectedParticipants([]);\n      setSearchTerm('');\n    } catch (err) {\n      console.error('PDF export error:', err);\n      setError('Failed to generate PDF. Please try again.');\n    } finally {\n      setPdfLoading(false);\n    }\n  };\n\n  const filteredParticipants = allParticipants.filter(p => {\n    const searchLower = searchTerm.toLowerCase();\n    return (\n      p.name?.toLowerCase().includes(searchLower) ||\n      p.identificationNumber?.toLowerCase().includes(searchLower) ||\n      p.address?.toLowerCase().includes(searchLower)\n    );\n  });\n\n  const toggleParticipantSelection = (participant) => {\n    const isSelected = selectedParticipants.some(p => p.id === participant.id);\n    if (isSelected) {\n      setSelectedParticipants(selectedParticipants.filter(p => p.id !== participant.id));\n    } else {\n      setSelectedParticipants([...selectedParticipants, participant]);\n    }\n  };\n\n  return (\n    <div style={{ padding: '20px' }}>\n      <h1>Export Data</h1>\n      <p style={{ color: '#666', marginBottom: '30px' }}>\n        Export participant and program data to CSV format for Qualtrics upload and reporting, or export selected participants as PDF.\n      </p>\n\n      <div style={{\n        background: 'white',\n        border: '1px solid #e1e5e9',\n        borderRadius: '8px',\n        padding: '30px',\n        maxWidth: '600px'\n      }}>\n        <h3 style={{ margin: '0 0 20px 0' }}>Export Options</h3>\n        \n        <div style={{ marginBottom: '20px' }}>\n          <label style={{ display: 'block', marginBottom: '8px', fontWeight: '500' }}>\n            Export Type\n          </label>\n          <select\n            value={exportType}\n            onChange={(e) => setExportType(e.target.value)}\n            style={{\n              width: '100%',\n              padding: '8px 12px',\n              border: '1px solid #ddd',\n              borderRadius: '4px',\n              fontSize: '14px'\n            }}\n          >\n            <option value=\"participants\">Participants Only</option>\n            <option value=\"programs\">Programs Only</option>\n            <option value=\"combined\">Combined Data</option>\n          </select>\n          <p style={{ fontSize: '12px', color: '#666', margin: '5px 0 0 0' }}>\n            {exportType === 'participants' && 'Export all participant data (excluding images)'}\n            {exportType === 'programs' && 'Export all program data'}\n            {exportType === 'combined' && 'Export participants and programs in a combined format'}\n          </p>\n        </div>\n\n        {error && (\n          <div style={{\n            background: '#f8d7da',\n            color: '#721c24',\n            padding: '10px 15px',\n            borderRadius: '4px',\n            marginBottom: '20px',\n            border: '1px solid #f5c6cb'\n          }}>\n            {error}\n          </div>\n        )}\n\n        {success && (\n          <div style={{\n            background: '#d4edda',\n            color: '#155724',\n            padding: '10px 15px',\n            borderRadius: '4px',\n            marginBottom: '20px',\n            border: '1px solid #c3e6cb'\n          }}>\n            ✅ Export completed successfully! File downloaded.\n          </div>\n        )}\n\n        <button\n          onClick={handleExport}\n          disabled={loading}\n          style={{\n            background: loading ? '#6c757d' : '#28a745',\n            color: 'white',\n            border: 'none',\n            padding: '12px 24px',\n            borderRadius: '5px',\n            cursor: loading ? 'not-allowed' : 'pointer',\n            fontSize: '16px',\n            fontWeight: '500',\n            width: '100%',\n            opacity: loading ? 0.6 : 1\n          }}\n        >\n          {loading ? 'Exporting...' : `Export ${exportType.charAt(0).toUpperCase() + exportType.slice(1)}`}\n        </button>\n\n        <div style={{\n          marginTop: '30px',\n          padding: '15px',\n          background: '#f8f9fa',\n          borderRadius: '4px',\n          fontSize: '13px',\n          color: '#666'\n        }}>\n          <strong>Note:</strong> The exported CSV file is formatted for Qualtrics upload. Images are excluded from the export. \n          The file will be named with today's date for easy organization.\n        </div>\n      </div>\n\n      {/* PDF Export Section */}\n      <div style={{\n        background: 'white',\n        border: '1px solid #e1e5e9',\n        borderRadius: '8px',\n        padding: '30px',\n        maxWidth: '800px',\n        marginTop: '30px'\n      }}>\n        <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '20px' }}>\n          <h3 style={{ margin: '0' }}>Export Participants as PDF</h3>\n          <button\n            onClick={() => {\n              setShowPdfExport(!showPdfExport);\n              if (!showPdfExport) {\n                setSelectedParticipants([]);\n                setSearchTerm('');\n              }\n            }}\n            style={{\n              background: showPdfExport ? '#6c757d' : '#667eea',\n              color: 'white',\n              border: 'none',\n              padding: '8px 16px',\n              borderRadius: '5px',\n              cursor: 'pointer',\n              fontSize: '14px'\n            }}\n          >\n            {showPdfExport ? 'Hide' : 'Show PDF Export'}\n          </button>\n        </div>\n\n        {showPdfExport && (\n          <div>\n            <p style={{ color: '#666', marginBottom: '20px', fontSize: '14px' }}>\n              Select participants to export as PDF. The PDF will include name, address, ID number, and profile photo, with two participants per page.\n            </p>\n\n            {/* Search Box */}\n            <div style={{ marginBottom: '20px' }}>\n              <label style={{ display: 'block', marginBottom: '8px', fontWeight: '500' }}>\n                Search Participants\n              </label>\n              <input\n                type=\"text\"\n                value={searchTerm}\n                onChange={(e) => setSearchTerm(e.target.value)}\n                placeholder=\"Search by name, ID number, or address...\"\n                style={{\n                  width: '100%',\n                  padding: '8px 12px',\n                  border: '1px solid #ddd',\n                  borderRadius: '4px',\n                  fontSize: '14px'\n                }}\n              />\n            </div>\n\n            {/* Selected Participants Count */}\n            {selectedParticipants.length > 0 && (\n              <div style={{\n                background: '#e7f3ff',\n                padding: '10px 15px',\n                borderRadius: '4px',\n                marginBottom: '15px',\n                fontSize: '14px',\n                color: '#0066cc'\n              }}>\n                <strong>{selectedParticipants.length}</strong> participant(s) selected\n              </div>\n            )}\n\n            {/* Participant List */}\n            <div style={{\n              maxHeight: '400px',\n              overflowY: 'auto',\n              border: '1px solid #e1e5e9',\n              borderRadius: '4px',\n              marginBottom: '20px'\n            }}>\n              {filteredParticipants.length === 0 ? (\n                <div style={{ padding: '20px', textAlign: 'center', color: '#666' }}>\n                  {searchTerm ? 'No participants found matching your search' : 'No participants available'}\n                </div>\n              ) : (\n                filteredParticipants.map((participant) => {\n                  const isSelected = selectedParticipants.some(p => p.id === participant.id);\n                  return (\n                    <div\n                      key={participant.id}\n                      onClick={() => toggleParticipantSelection(participant)}\n                      style={{\n                        padding: '12px 15px',\n                        borderBottom: '1px solid #e1e5e9',\n                        cursor: 'pointer',\n                        background: isSelected ? '#e7f3ff' : 'white',\n                        display: 'flex',\n                        alignItems: 'center',\n                        gap: '12px',\n                        transition: 'background 0.2s'\n                      }}\n                      onMouseEnter={(e) => {\n                        if (!isSelected) e.currentTarget.style.background = '#f8f9fa';\n                      }}\n                      onMouseLeave={(e) => {\n                        if (!isSelected) e.currentTarget.style.background = 'white';\n                      }}\n                    >\n                      <input\n                        type=\"checkbox\"\n                        checked={isSelected}\n                        onChange={() => toggleParticipantSelection(participant)}\n                        onClick={(e) => e.stopPropagation()}\n                        style={{ cursor: 'pointer' }}\n                      />\n                      {participant.headshotPictureUrl && (\n                        <img\n                          src={participant.headshotPictureUrl?.url || participant.headshotPictureUrl}\n                          alt={participant.name}\n                          style={{\n                            width: '40px',\n                            height: '40px',\n                            borderRadius: '50%',\n                            objectFit: 'cover',\n                            border: '2px solid #e1e5e9'\n                          }}\n                        />\n                      )}\n                      <div style={{ flex: 1 }}>\n                        <div style={{ fontWeight: '500', color: '#333' }}>{participant.name}</div>\n                        <div style={{ fontSize: '12px', color: '#666', marginTop: '2px' }}>\n                          ID: {participant.identificationNumber || 'N/A'}\n                          {participant.address && ` • ${participant.address}`}\n                        </div>\n                      </div>\n                    </div>\n                  );\n                })\n              )}\n            </div>\n\n            {/* Export Button */}\n            <button\n              onClick={handlePdfExport}\n              disabled={pdfLoading || selectedParticipants.length === 0}\n              style={{\n                background: (pdfLoading || selectedParticipants.length === 0) ? '#6c757d' : '#dc3545',\n                color: 'white',\n                border: 'none',\n                padding: '12px 24px',\n                borderRadius: '5px',\n                cursor: (pdfLoading || selectedParticipants.length === 0) ? 'not-allowed' : 'pointer',\n                fontSize: '16px',\n                fontWeight: '500',\n                width: '100%',\n                opacity: (pdfLoading || selectedParticipants.length === 0) ? 0.6 : 1\n              }}\n            >\n              {pdfLoading ? 'Generating PDF...' : `Export ${selectedParticipants.length} Participant(s) as PDF`}\n            </button>\n\n            <div style={{\n              marginTop: '20px',\n              padding: '15px',\n              background: '#f8f9fa',\n              borderRadius: '4px',\n              fontSize: '13px',\n              color: '#666'\n            }}>\n              <strong>Note:</strong> The PDF will include two participants per page with their profile photos, names, addresses, and ID numbers.\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default Export;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}